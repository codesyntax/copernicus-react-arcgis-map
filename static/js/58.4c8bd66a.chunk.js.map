{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/debugging.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js","../node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js","../node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js"],"names":["p","e","layer","parent","this","when","catch","name","r","id","s","title","t","getLogger","declaredClass","error","get","canResume","getSuspendInfo","suspended","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","visible","suspendInfo","view","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible","a","l","n","o","EventedMixin","i","prototype","readOnly","type","Boolean","d","arguments","left","right","top","bottom","_get","Number","String","json","write","y","c","base","key","typeMap","extent","polygon","geometry","clone","types","read","m","path","ofType","rect","clips","moving","attached","lastUpdateId","updateRequested","container","h","fadeTransitionEnabled","opacity","handles","add","requestUpdate","blendMode","effect","on","notifyChange","whenLayerView","then","destroyed","attach","detach","remove","minScale","maxScale","isFulfilled","isResolved","_set","update","isVisibleAtScale","scale","set","level","row","col","_tileInfoView","sortChildren","setStencilReference","state","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","registerRenderPass","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","children","has","getTileResolution","setTransform","stencilRef","x","width","height","Math","min","max","_width","_height","_free","push","length","w","splice","release","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","Map","_glyphSource","_binPack","Uint8Array","Set","floor","forEach","getRange","delete","Promise","all","sdf","metrics","page","code","getGlyph","allocate","isEmpty","bitmap","g","_","tileIDs","size","pixelFormat","dataType","setSamplingMode","setData","bindTexture","dispose","_metrics","_bitmaps","next","tag","getMessage","getUInt32","getBytes","getSInt32","skip","advance","_ranges","_glyphInfo","_baseURL","_getFontStack","resolve","replace","responseType","addRange","data","DataView","getMetrics","getBitmap","_size","_mosaicsData","_maxItemSize","_pageWidth","_pageHeight","_mosaicRects","pixelRatio","console","devicePixelRatio","Uint32Array","_sprites","loadStatus","getSpriteInfo","_allocateImage","_copy","simplePattern","getSpriteItem","tl","br","wrapMode","buffer","image","_copyBits","fillStyle","fillRect","strokeStyle","strokeRect","cellSize","rows","columns","cells","fillText","window","COLLISION_XRAY","unique","show","colliders","enabled","parts","partIndex","xScreen","yScreen","dxScreen","dyScreen","globalAlpha","f","_vectorTileLayer","_styleRepository","_spriteMosaic","_glyphMosaic","_connection","close","_spriteSourcePromise","sourceNameToSource","_fetchTileMap","loadSpriteSource","setSpriteSource","glyphs","_broadcastPromise","client","scheduler","signal","broadcast","style","currentStyleInfo","vectorTileLayerMaxBuffers","_getRefKeys","_getSourcesData","sourceName2DataAndRefKey","transferList","Object","keys","getAvailableClient","invoke","styleLayerUIDs","tileData","getSpriteItems","getGlyphItems","font","codePoints","PERFORMANCE_RECORDING_STORAGE","perf","start","time","samples","unit","u","milliseconds","pool","acquire","getSourceTileUrl","request","protobuff","sourceName","capabilities","operations","supportsTileMap","tileIndex","tileMapURL","put","Array","getRefKey","value","_getTilePayload","byteLength","refKey","_tiles","_tileCache","_viewSize","_visibleTiles","acquireTile","releaseTile","tileInfoView","_container","clear","_updateCacheSize","getTileCoverage","spans","lodInfo","colFrom","colTo","getId","normalizeCol","getWorldForColumn","_getOrAcquireTile","processed","_addToContainer","isCoverage","_findPlaceholdersForMissingTiles","neededForCoverage","isHoldingForFade","intersects","isFading","_releaseTile","_addPlaceholderChild","reduce","abs","_addPlaceholderParent","hasData","world","_getTile","pop","_removeFromContainer","contains","_canConnectDirectly","childrenTiles","parentTile","addChild","removeChild","ceil","maxSize","split","parseInt","iconRotationAlignment","textRotationAlignment","iconTranslate","iconTranslateAnchor","textTranslate","textTranslateAnchor","minLod","maxLod","xTile","yTile","dxPixels","dyPixels","_symbols","_zoom","_currentLayerCursor","_currentSymbolCursor","_styleProps","_allNeededMatrices","_gridIndex","_si","sin","PI","_co","cos","symbols","tile","transforms","tileUnitsToPixels","getCellSpan","performance","now","_getProperties","styleLayerUID","iconAllowOverlap","iconIgnorePlacement","textAllowOverlap","textIgnorePlacement","hard","getStyleLayerByUID","getLayoutValue","getPaintValue","priority","_symbolRepository","_createCollisionJob","_assignTileSymbolsOpacity","_symbolLayerSorter","_isLayerVisible","_selectionJob","_selectionJobCompleted","_collisionJob","_collisionJobCompleted","_opacityJob","_opacityJobCompleted","_running","_screenWidth","_screenHeight","restart","_createSelectionJob","work","sortedSymbols","_createOpacityJob","uniqueSymbols","tileSymbols","selectedForRendering","sort","targetOpacity","startOpacity","startTime","tileCoordRange","_createUnique","_uniqueSymbolsReferences","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","layerData","_removeSymbols","flat","index","getCell","_addSymbols","equals","_matchSymbols","symbol","xTransformed","yTransformed","hash","styleRepository","_tileToHandle","_viewState","rotation","center","_declutterViewState","_completed","_symbolDeclutterer","allSymbolsFadingOut","lastOpacityUpdate","decluttered","requestRender","z","getLayoutProperty","getValue","restartDeclutter","removeTile","_continueDeclutter","_notifyUnstable","_declutterZoom","deleteStyleLayers","stale","running","setScreenSize","continue","_scheduleNotifyStable","_stableNotificationHandle","clearTimeout","setTimeout","emit","minzoom","maxzoom","_backgroundTiles","_pointToCallbacks","_fading","removeAllChildren","_symbolFader","promise","invalidating","renderPass","styleLayer","glyphMosaic","spriteMosaic","hasClipping","_clippingInfos","addTile","_doRender","context","getBoundFramebufferObject","HITTEST","painter","effects","hittest","bind","draw","bindFramebuffer","filter","layers","backgroundBucketIds","_renderBackgroundLayers","_fade","triangleCount","setStencilWriteMask","setColorMask","setStencilOp","setStencilTestEnabled","setBlendingEnabled","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","setClearDepth","gl","DEPTH_BUFFER_BIT","_renderStyleLayer","setBlendFunctionSeparate","bindVAO","COLLISION_DEBUG_CTX","clearRect","canvas","COLLISION_SHOW_GRID","uid","renderObjects","getLayerById","b","T","_renderPasses","prepareState","drawMany","C","v","F","getTileBounds","bounds","coords","setStencilFunction","_fullCacheLodInfos","_levelByScale","_initializeFullCacheLODs","_lodInfos","map","resolution","spatialReference","create","lods","Q","_styleChanges","_handles","_fetchQueue","_parseQueue","_isTileHandlerReady","fading","spriteUrl","glyphsUrl","fullExtent","_vectorTileContainer","_tileHandler","addResolvingPromise","reject","_stop","destroy","_tileHandlerPromise","hitTest","getStyleLayerIndex","attributes","layerId","layerName","layerUID","sourceLayer","_start","_applyStyleChanges","pause","_tileManager","resume","isDataDriven","setPaintProperties","paint","layout","diff","oldValue","newValue","added","changed","removed","H","setLayoutProperties","setStyleLayerVisibility","visibility","_loadStyle","removeAll","layerDefinition","_createVectorTile","once","abort","AbortController","process","_getTileData","concurrency","_parseTileData","setStyleResources","_tileHandlerAbortController","fetchTileData","parseTileData","clearCache","updateStyle","message","deleteStyleLayer","setStyleLayer","deleteLayerData","setStyle","aborted","R"],"mappings":"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","file":"static/js/58.4c8bd66a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import o from\"../../core/Evented.js\";import{IdentifiableMixin as l}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let p=class extends(a(l(n(o.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r()],p.prototype,\"fullOpacity\",null),e([r()],p.prototype,\"layer\",void 0),e([r()],p.prototype,\"parent\",void 0),e([r({readOnly:!0})],p.prototype,\"suspended\",null),e([r({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([r({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([r({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([r()],p.prototype,\"visible\",null),p=e([s(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var y;const c={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let n=y=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};r([o({types:c,json:{read:m,write:!0}})],n.prototype,\"geometry\",void 0),r([o({readOnly:!0})],n.prototype,\"version\",null),n=y=r([e(\"esri.views.layers.support.Geometry\")],n);var l=n;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),r([o({readOnly:!0})],e.prototype,\"version\",null),e=r([s(\"esri.views.layers.support.Path\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as o}from\"../../../core/watchUtils.js\";import a from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as h}from\"../engine/Container.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:a,typeMap:{rect:p,path:d,geometry:n}}),l=i=>{let a=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new h),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([o(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),o(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),o(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),o(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([e({type:c,set(t){const e=r(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],a.prototype,\"clips\",void 0),t([e()],a.prototype,\"moving\",void 0),t([e()],a.prototype,\"attached\",void 0),t([e()],a.prototype,\"container\",void 0),t([e()],a.prototype,\"suspended\",void 0),t([e({readOnly:!0})],a.prototype,\"updateParameters\",void 0),t([e()],a.prototype,\"updateRequested\",void 0),t([e()],a.prototype,\"updating\",null),t([e()],a.prototype,\"view\",void 0),a=t([s(\"esri.views.2d.layers.LayerView2D\")],a),a};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends t{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export default i;export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/checkWebGLError.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import e from\"../webgl/Rect.js\";import i from\"./RectangleBinPack.js\";class s{constructor(t,e,s){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=e,this._glyphSource=s,this._binPack=new i(t-4,e-4),this._glyphData.push(new Uint8Array(t*e)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(t,s){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const e of s){const t=Math.floor(e*o);n.add(t)}const a=[];return n.forEach((e=>{if(e<=256){const i=t+e;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=r.getRange(t,e).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),Promise.all(a).then((()=>{let n=this._glyphIndex[t];n||(n={},this._glyphIndex[t]=n);for(const o of s){const s=n[o];if(s){h[o]={sdf:!0,rect:s.rect,metrics:s.metrics,page:s.page,code:o};continue}const a=r.getGlyph(t,o);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new e(0,0,0,0);else{const t=3,e=c.width+2*t,s=c.height+2*t;let h=e%4?4-e%4:4,r=s%4?4-s%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(e+h,s+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new i(this.width-4,this.height-4),l=this._binPack.allocate(e+h,s+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,_;if(o)for(let i=0;i<s;i++){g=e*i,_=this.width*(l.y+i+1)+l.x;for(let t=0;t<e;t++)n[_+t+1]=o[g+t]}}n[o]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(e,i,s,h=0){this._textures[s]||(this._textures[s]=new t(e,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),e.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../request.js\";import e from\"../../../../core/pbf.js\";class s{constructor(t){if(this._metrics=[],this._bitmaps=[],t)for(;t.next();)switch(t.tag()){case 1:{const e=t.getMessage();for(;e.next();)switch(e.tag()){case 3:{const t=e.getMessage();let s,a,r,n,i,c,g;for(;t.next();)switch(t.tag()){case 1:s=t.getUInt32();break;case 2:a=t.getBytes();break;case 3:r=t.getUInt32();break;case 4:n=t.getUInt32();break;case 5:i=t.getSInt32();break;case 6:c=t.getSInt32();break;case 7:g=t.getUInt32();break;default:t.skip()}t.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:e.skip()}e.release();break}default:t.skip()}}getMetrics(t){return this._metrics[t]}getBitmap(t){return this._bitmaps[t]}}class a{constructor(){this._ranges=[]}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}class r{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255,g=this._baseURL.replace(\"{fontstack}\",a).replace(\"{range}\",i+\"-\"+c);return t(g,{responseType:\"array-buffer\"}).then((t=>{n.addRange(r,new s(new e(new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{n.addRange(r,new s)}))}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new a),e}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/checkWebGLError.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import i from\"../webgl/Rect.js\";import e from\"./RectangleBinPack.js\";class s{constructor(t,i,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=i,s>0&&(this._maxItemSize=s),this._binPack=new e(t-4,i-4)}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new e(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),s=new Uint32Array(t*i);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e=this._mosaicRects[t];if(e)return e;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;const s=this._sprites.getSpriteInfo(t);if(!s||!s.width||!s.height||s.width<0||s.height<0)return null;const h=s.width,a=s.height,[r,o,_]=this._allocateImage(h,a);return r.width<=0?null:(this._copy(r,s,o,_,i),e={rect:r,width:h,height:a,sdf:s.sdf,simplePattern:!1,pixelRatio:s.pixelRatio,page:o},this._mosaicRects[t]=e,e)}getSpriteItems(t){const i={};for(const e of t)i[e]=this.getSpriteItem(e);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,a=e.height,r=2,o=this._size[e.page];return{size:[e.width,e.height],tl:[(s.x+r)/o[0],(s.y+r)/o[1]],br:[(s.x+r+h)/o[0],(s.y+r+a)/o[1]],page:e.page}}bind(i,e,s=0,h=0){this._textures[s]||(this._textures[s]=new t(i,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[s][0],height:this._size[s][1]},new Uint8Array(this._mosaicsData[s].buffer)));const a=this._textures[s];a.setSamplingMode(e),this._dirties[s]&&a.setData(new Uint8Array(this._mosaicsData[s].buffer)),i.bindTexture(a,h),this._dirties[s]=!1}static _copyBits(t,i,e,s,h,a,r,o,_,n,g){let c=s*i+e,p=o*a+r;if(g){p-=a;for(let r=-1;r<=n;r++,c=((r+n)%n+s)*i+e,p+=a)for(let i=-1;i<=_;i++)h[p+i]=t[c+(i+_)%_]}else for(let l=0;l<n;l++){for(let i=0;i<_;i++)h[p+i]=t[c+i];c+=i,p+=a}}_copy(t,i,e,h,a,r){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const o=new Uint32Array(r?r.buffer:this._sprites.image.buffer),_=this._mosaicsData[e];_&&o||console.error(\"Source or target images are uninitialized!\");const n=2,g=r?i.width:this._sprites.width;s._copyBits(o,g,i.x,i.y,_,h[0],t.x+n,t.y+n,i.width,i.height,a),this._dirties[e]=!0}_allocateImage(t,s){t+=2,s+=2;const h=Math.max(t,s);if(this._maxItemSize&&this._maxItemSize<h){const e=new i(0,0,t,s);return this._mosaicsData.push(new Uint32Array(t*s)),this._dirties.push(!0),this._size.push([t,s]),this._textures.push(void 0),[e,this._mosaicsData.length-1,[t,s]]}let a=t%4?4-t%4:4,r=s%4?4-s%4:4;1===a&&(a=5),1===r&&(r=5);const o=this._binPack.allocate(t+a,s+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new e(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,s)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e,n,o,l,i){t.fillStyle=e,t.fillRect(n,o,l,i)}function e(t,e,n,o,l,i){t.strokeStyle=e,t.strokeRect(n,o,l,i)}function n(t,e){t.strokeStyle=\"black\";const n=e.cellSize,o=e.rows,l=e.columns;for(let i=0;i<o;i++){const o=e.cells[i],r=i*n,s=(i+1)*n;for(let e=0;e<l;e++){const l=o[e],i=e*n,d=(e+1)*n;t.strokeRect(i,r,d-i,s-r),t.fillText(`cells:${l.length}`,i+4,r+12)}}}function o(n,o){const l=window.COLLISION_XRAY;for(let i=0;i<o.length;++i){const r=!o[i].unique.show;if(l||!r)for(const s of o[i].colliders){if(!s.enabled)continue;const d=!o[i].unique.parts[s.partIndex].show;if(!l&&d)continue;const a=s.xScreen,c=s.yScreen,m=s.dxScreen,h=s.dyScreen;n.globalAlpha=r||d?.2:1,t(n,\"green\",a-1,c-1,3,3),e(n,\"red\",a+m,c+h,s.width,s.height),t(n,\"blue\",a+m-1,c+h-1,3,3),n.globalAlpha=1}}}function l(t,e,n){if(!window.PERFORMANCE_RECORDING_STORAGE)return;const o=window.PERFORMANCE_RECORDING_STORAGE;o.perf=o.perf||{};const l=o.perf;l[t]=l[t]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:n},l[t].time+=e,l[t].samples.push(e),(null==l[t].min||e<l[t].min)&&(l[t].min=e),(null==l[t].max||e>l[t].max)&&(l[t].max=e)}function i(){if(!window.PERFORMANCE_RECORDING_STORAGE)return;window.PERFORMANCE_RECORDING_STORAGE.perf={}}function r(t,e){return`${Math.round(10*t)/10}${e}`}function s(t){if(!window.PERFORMANCE_RECORDING_STORAGE){const t=document.createElement(\"div\");return t.innerHTML=\"No recorded data is present because performance recording is disabled.\",t}const e=document.createElement(\"div\");let n=\"\";const o=window.PERFORMANCE_RECORDING_STORAGE.perf,l=50;n+='<table style=\"border-collapse: collapse;\">',n+=`<tr style=\"text-weight: bold; border-bottom: 1px solid \"${t}\";\"><td>Name</td><td>Total</td><td>Runs</td><td>Average</td><td>Min</td><td>Distribution</td><td>Max</td><td>Histogram (${l} bins)</td></tr>`;const i=[];for(const r in o)i.push({name:r,value:o[r].time/o[r].samples.length,sortkey:o[r].max});i.sort(((t,e)=>-(t.sortkey-e.sortkey)));const s=i.map((t=>t.name));for(const m of s)n+=\"<tr>\",n+=`<td>${m}</td>`,n+=`<td>${r(o[m].time,o[m].unit)}</td>`,n+=`<td>${o[m].samples.length}</td>`,n+=`<td>${r(o[m].time/o[m].samples.length,o[m].unit)}</td>`,n+=`<td style=\"text-align: right;\">${r(o[m].min,o[m].unit)}</td>`,n+=\"<td data-distribution='1'></td>\",n+=`<td>${r(o[m].max,o[m].unit)}</td>`,n+=\"<td data-histogram='1'></td>\",n+=\"</tr>\";n+=\"<table>\",e.innerHTML=n;const d=e.querySelectorAll(\"td[data-distribution='1']\"),a=e.querySelectorAll(\"td[data-histogram='1']\");for(let r=0;r<d.length;r++){let e=d[r];{const n=document.createElement(\"canvas\");n.height=10,n.width=100;const l=n.getContext(\"2d\");if(l.strokeStyle=t,l.beginPath(),l.moveTo(0,5),l.lineTo(100,5),o[s[r]].max>o[s[r]].min+.001)for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);l.moveTo(100*e,3),l.lineTo(100*e,7)}l.stroke(),l.strokeRect((i[r].value-o[s[r]].min)/(o[s[r]].max-o[s[r]].min)*100-2,0,4,9),e.appendChild(n)}e=a[r];{const n=new Array(l);for(let t=0;t<n.length;t++)n[t]=0;for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);n[1===e?n.length-1:Math.floor(e*n.length)]++}const i=document.createElement(\"canvas\");i.height=30,i.width=120;const d=i.getContext(\"2d\");d.strokeStyle=t,d.fillStyle=t;let a=0;for(let t=0;t<n.length;t++){const e=n[t];a=Math.max(a,e)}for(let t=0;t<n.length;t++){const e=n[t];d.fillRect(t*i.width/n.length,i.height*(1-e/a),i.width/n.length,i.height*(e/a))}d.beginPath(),d.moveTo(0,i.height),d.lineTo(i.width,i.height),d.stroke(),e.appendChild(i)}}const c=e.querySelectorAll(\"td\");for(let r=0;r<c.length;r++)c[r].style.padding=\"5px\";return e}export{o as drawColliders,n as drawGridIndex,l as perfAdd,i as perfClear,s as perfElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{isAbortError as t,eachAlways as s}from\"../../../../core/promiseUtils.js\";import r from\"../../../../request.js\";import i from\"../../../../core/ItemCache.js\";import{open as o}from\"../../../../core/workers/workers.js\";import a from\"../../tiling/TileKey.js\";import l from\"./TileIndex.js\";import n from\"./GlyphMosaic.js\";import c from\"./GlyphSource.js\";import h from\"./SpriteMosaic.js\";import{perfAdd as u}from\"./decluttering/debugging.js\";const p=new i(10),y=new Map;class f{constructor(e,t,s){this._vectorTileLayer=e,this._styleRepository=t,this.devicePixelRatio=s,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null}destroy(){this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._vectorTileLayer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(t){const s=this._vectorTileLayer,r=s.sourceNameToSource,i=[];for(const e in r)i.push(this._fetchTileMap(r[e],t));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,t),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new h(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const a=this._styleRepository,l=new c(a.glyphs);return this._glyphMosaic=new n(1024,1024,l),this._broadcastPromise=o(\"WorkerTileHandler\",{client:this,scheduler:t.scheduler,signal:t.signal}).then((r=>(this._connection=r,Promise.all(this._connection.broadcast(\"setStyle\",{style:s.currentStyleInfo.style,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")},t))))),Promise.all(i)}async updateStyle(e){return await this._broadcastPromise,this._broadcastPromise=new Promise(((t,s)=>{Promise.all(this._connection.broadcast(\"updateStyle\",e)).then(t,s)})),this._broadcastPromise}async setStyle(t,s){await this._broadcastPromise,this._styleRepository=t;const r=this._vectorTileLayer.sourceNameToSource,i=[];for(const e in r)i.push(this._fetchTileMap(r[e],null));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new h(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const o=new c(t.glyphs);return this._glyphMosaic=new n(1024,1024,o),this._broadcastPromise=new Promise(((t,r)=>{Promise.all(this._connection.broadcast(\"setStyle\",{style:s,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")})).then(t,r)})),i.push(this._broadcastPromise),Promise.all(i)}fetchTileData(e,t){return this._getRefKeys(e,t).then((e=>{const s=this._vectorTileLayer.sourceNameToSource,r=[];for(const t in s)r.push(t);return this._getSourcesData(r,e,t)}))}parseTileData(e,t){const s=e&&e.data;if(!s)return Promise.resolve(null);const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?Promise.resolve(null):this._broadcastPromise.then((()=>this._connection.getAvailableClient().then((s=>s.invoke(\"createTileAndParse\",{key:e.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:e.styleLayerUIDs},{...t,transferList:i}).then((e=>({tileData:e})))))))}async getSprites(e){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(e)}getGlyphs(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}perfReport({key:e,milliseconds:t}){u(e,t,\"ms\")}async _getTilePayload(e,s,r){const i=a.pool.acquire(e.id),o=this._vectorTileLayer.sourceNameToSource[s].getSourceTileUrl(i.level,i.row,i.col);a.pool.release(i);try{return{protobuff:await this.request(o,r),sourceName:s}}catch(l){if(t(l))throw l;return{protobuff:null,sourceName:s}}}request(e,t){return r(e,{responseType:\"array-buffer\",...t}).then((({data:e})=>e))}async _fetchTileMap(e,s){if(e.capabilities.operations.supportsTileMap&&e.tileIndex)return Promise.resolve();if(!e.tileMapURL)return;const i=p.get(e.tileMapURL);if(i)return void(e.tileIndex=i);let o;if(y.has(e.tileMapURL)){try{o=await y.get(e.tileMapURL),e.tileIndex=new l(o.data)}catch(n){if(t(n))throw n}return}const a=r(e.tileMapURL,s);y.set(e.tileMapURL,a);try{o=await a,y.delete(e.tileMapURL),p.put(e.tileMapURL,e.tileIndex),e.tileIndex=new l(o.data)}catch(n){if(y.delete(e.tileMapURL),t(n))throw n}}_getRefKeys(e,t){const r=this._vectorTileLayer.sourceNameToSource,i=new Array;for(const s in r){const o=r[s].getRefKey(e,t);i.push(o)}return s(i)}_getSourcesData(e,t,r){const i=[];for(let s=0;s<t.length;s++)if(null==t[s].value||null==e[s])i.push(null);else{const o=this._getTilePayload(t[s].value,e[s],r);i.push(o)}return s(i).then((e=>{const s={},r=[];for(let i=0;i<e.length;i++)if(e[i].value&&e[i].value&&e[i].value.protobuff&&e[i].value.protobuff.byteLength>0){const o=t[i].value.id;s[e[i].value.sourceName]={refKey:o,protobuff:e[i].value.protobuff},r.push(e[i].value.protobuff)}return{sourceName2DataAndRefKey:s,transferList:r}}))}}export{f as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import t from\"../../../../core/LRUCache.js\";import s from\"../../tiling/TileKey.js\";import l from\"../../tiling/TileCoverage.js\";const r=512,o=1e-6,n=(e,i)=>e+1/(1<<2*i);class a{constructor(e,i){this._tiles=new Map,this._tileCache=new t(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this._container=i}destroy(){for(const[e,i]of this._tiles)i.dispose();this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,\"smallest\"),{spans:r,lodInfo:o}=t,{level:n}=o,a=new Set,h=new Set;for(const{row:l,colFrom:d,colTo:_}of r)for(let e=d;e<=_;e++){const i=s.getId(n,l,o.normalizeCol(e),o.getWorldForColumn(e)),t=this._getOrAcquireTile(i);a.add(i),t.processed()?this._addToContainer(t):h.add(new s(i))}for(const[s,l]of this._tiles)l.isCoverage=a.has(s);for(const s of h)this._findPlaceholdersForMissingTiles(s,a);let c=!1;for(const[s,l]of this._tiles)l.neededForCoverage=a.has(s),l.neededForCoverage||l.isHoldingForFade&&i.intersects(t,l.key)&&a.add(s),l.isFading&&(c=!0);for(const[s,l]of this._tiles)a.has(s)||this._releaseTile(s);return l.pool.release(t),!c}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const[l,r]of this._tiles)this._addPlaceholderChild(t,r,e,i);const s=t.reduce(n,0);Math.abs(1-s)<o||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,s){i.key.level<=t.level||!i.hasData()||c(t,i.key)&&(this._addToContainer(i),s.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){let t=e;for(;;){if(t=h(t),!t||i.has(t))return;const e=this._getTile(t);if(e&&e.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new s(e))),this._tiles.set(e,i),i)}_getTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i&&this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(t){let s;const l=[],r=this._container;if(r.contains(t))return;const o=this._visibleTiles;for(const[i,n]of o)this._canConnectDirectly(t,n)&&l.push(n),e(s)&&this._canConnectDirectly(n,t)&&(s=n);if(i(s)){for(const e of l)s.childrenTiles.delete(e),t.childrenTiles.add(e),e.parentTile=t;s.childrenTiles.add(t),t.parentTile=s}else for(const e of l)t.childrenTiles.add(e),e.parentTile=t;o.set(t.id,t),r.addChild(t)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),i(e.parentTile)){e.parentTile.childrenTiles.delete(e);for(const t of e.childrenTiles)i(e.parentTile)&&e.parentTile.childrenTiles.add(t)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:s,row:l,col:r,world:o}=i.key;const n=this._visibleTiles;for(;s>0;){if(s--,l>>=1,r>>=1,t.level===s&&t.row===l&&t.col===r&&t.world===o)return!0;if(n.has(`${s}/${l}/${r}/${o}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/r)+1,s=Math.ceil(i[1]/r)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*s}}function h(e){const[i,t,s,l]=e.split(\"/\"),r=parseInt(i,10);return 0===r?null:`${r-1}/${parseInt(t,10)>>1}/${parseInt(s,10)>>1}/${parseInt(l,10)}`}function c(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}export{a as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../../chunks/mat3f32.js\";import{COLLISION_GRID_CELL_SIZE as t}from\"./config.js\";import{GridIndex as n}from\"./util.js\";function o(e,t,n,o,r,s){const{iconRotationAlignment:i,textRotationAlignment:l,iconTranslate:a,iconTranslateAnchor:c,textTranslate:h,textTranslateAnchor:u}=o;let d=0;for(const y of e.colliders){const[e,o]=0===y.partIndex?a:h,x=0===y.partIndex?c:u,g=y.minLod<=s&&s<=y.maxLod;d+=g?0:1,y.enabled=g,y.xScreen=y.xTile*r[0]+y.yTile*r[3]+r[6],y.yScreen=y.xTile*r[1]+y.yTile*r[4]+r[7],0===x?(y.xScreen+=n*e-t*o,y.yScreen+=t*e+n*o):(y.xScreen+=e,y.yScreen+=o),1===(0===y.partIndex?i:l)?(y.dxScreen=y.dxPixels,y.dyScreen=y.dyPixels):(y.dxScreen=n*(y.dxPixels+y.width/2)-t*(y.dyPixels+y.height/2)-y.width/2,y.dyScreen=t*(y.dxPixels+y.width/2)+n*(y.dyPixels+y.height/2)-y.height/2)}e.colliders.length>0&&d===e.colliders.length&&(e.unique.show=!1)}class r{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new n(r,s,t),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,e(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let h=l;h<=c;h++)for(let e=i;e<=a;e++){const i=t.cells[h][e];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const r=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],s=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-r>e)return!1;const i=t.symbols[this._currentSymbolCursor];if(!i.unique.show)continue;o(i,this._si,this._co,s,this._allNeededMatrices.get(i.tile),this._zoom);const l=i.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=s;for(const e of i.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of i.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let l=i;l<=h;l++)for(let t=s;t<=a;t++){this._gridIndex.cells[l][t].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,o=this._styleRepository.getStyleLayerByUID(e),r=0!==o.getLayoutValue(\"symbol-placement\",n);let s=o.getLayoutValue(\"icon-rotation-alignment\",n);2===s&&(s=r?0:1);let i=o.getLayoutValue(\"text-rotation-alignment\",n);2===i&&(i=r?0:1);const l=o.getPaintValue(\"icon-translate\",n),a=o.getPaintValue(\"icon-translate-anchor\",n),c=o.getPaintValue(\"text-translate\",n),h=o.getPaintValue(\"text-translate-anchor\",n),u={iconAllowOverlap:o.getLayoutValue(\"icon-allow-overlap\",n),iconIgnorePlacement:o.getLayoutValue(\"icon-ignore-placement\",n),textAllowOverlap:o.getLayoutValue(\"text-allow-overlap\",n),textIgnorePlacement:o.getLayoutValue(\"text-ignore-placement\",n),iconRotationAlignment:s,textRotationAlignment:i,iconTranslateAnchor:a,iconTranslate:l,textTranslateAnchor:h,textTranslate:c};return this._styleProps.set(e,u),u}}export{r as CollisionJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/maybe.js\";import{FADE_DURATION as e}from\"./config.js\";function t(o,e){if(o.priority-e.priority)return o.priority-e.priority;const t=o.tile.key,i=e.tile.key;return t.world-i.world?t.world-i.world:t.level-i.level?t.level-i.level:t.row-i.row?t.row-i.row:t.col-i.col?t.col-i.col:o.xTile-e.xTile?o.xTile-e.xTile:o.yTile-e.yTile}class i{constructor(o,e,t,i,s,r){this._visibleTiles=o,this._symbolRepository=e,this._createCollisionJob=t,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=r,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}get running(){return this._running}setScreenSize(o,e){this._screenWidth===o&&this._screenHeight===e||this.restart(),this._screenWidth=o,this._screenHeight=e}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const e=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const e=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const e=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols,e=[];let i=0,s=0;const r=this._isLayerVisible;function n(n){let l;const c=performance.now();for(;s<o.length;s++,i=0){const t=o[s],h=t.styleLayerUID;if(!r(h)){e[s]||(e[s]={styleLayerUID:h,symbols:[]});continue}e[s]=e[s]||{styleLayerUID:h,symbols:[]};const a=e[s];for(;i<t.uniqueSymbols.length;i++){if(l=t.uniqueSymbols[i],i%100==99&&performance.now()-c>n)return!1;let o=null,e=!1,s=!1;for(const t of l.tileSymbols)if(t.selectedForRendering=!1,!s||!e){const i=t.tile;(!o||i.isCoverage||i.neededForCoverage&&!e)&&(o=t,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(e=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of e)o.symbols.sort(t);return!0}const l=this._symbolLayerSorter;return{work:n,get sortedSymbols(){return e.sort(l)}}}_createOpacityJob(){const e=this._assignTileSymbolsOpacity,t=this._visibleTiles;let i=0;function r(o,t){const i=o.symbols;for(const[e,r]of i)s(r,t);e(o,t);for(const e of o.childrenTiles)r(e,t)}return{work(e){const s=performance.now();for(;i<t.length;i++){if(performance.now()-s>e)return!1;const n=t[i];if(o(n.parentTile))continue;r(n,performance.now())}return!0}}}}function s(o,t){for(const i of o){const o=i.unique;for(const i of o.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((t-i.startTime)/e),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=t,i.targetOpacity=o.show&&i.show?1:0}}}export{i as SymbolDeclutterer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";const l=32,i=8,n=64;class r{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const r=new Map;if(s)for(const o of s)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));else for(const[o,l]of e.layerData)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));this._removeSymbols(r);const y=e.symbols,a=new Map;for(const[f,c]of y){let e=c.length;if(e>=l){let s=this.tileCoordRange;do{s/=2,e/=4}while(e>i&&s>n);const l=new o(this.tileCoordRange,this.tileCoordRange,s);a.set(f,{flat:c,index:l}),t.symbols.set(f,{flat:c,index:l});for(const e of c)l.getCell(e.xTile,e.yTile).push(e)}else a.set(f,{flat:c}),t.symbols.set(f,{flat:c})}this._addSymbols(e.key,y)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[l,i]of o)for(const s of i)if(e(s.unique)){const e=this._createUnique();s.unique=e,e.tileSymbols.push(s);let o=this._uniqueSymbolsReferences.get(l);o||(o=new Set,this._uniqueSymbolsReferences.set(l,o)),o.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,c=r.hash;for(const e of t)if(c===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{r as SymbolRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{DECLUTTER_BUDGET as i,FADE_DURATION as s}from\"./config.js\";import{VTLUniqueSymbol as o}from\"./core.js\";import{writeOpacityToBuffers as r}from\"./util.js\";import{CollisionJob as l}from\"./jobs.js\";import{SymbolDeclutterer as a}from\"./SymbolDeclutterer.js\";import{SymbolRepository as c}from\"./SymbolRepository.js\";const h=.5;class n extends e{constructor(t,e){super(),this.styleRepository=t,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._completed=!1,this._symbolRepository=new c(4096,e,(()=>new o)),this._symbolDeclutterer=new a(e,this._symbolRepository,((t,e,i)=>new l(t,e,i,this.styleRepository,this._zoom,this._viewState.rotation)),((t,e)=>{t.allSymbolsFadingOut=!0,t.lastOpacityUpdate=e,r(t,e,!0),t.decluttered=!0,t.requestRender()}),((t,e)=>this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z-this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z),(t=>{const e=this.styleRepository.getStyleLayerByUID(t).getLayoutProperty(\"visibility\");return!e||1!==e.getValue()}))}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on(\"symbols-changed\",(()=>{this._symbolRepository.add(t),this.restartDeclutter()}))),this._symbolRepository.add(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.removeTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){return this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]},this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(i),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){t(this._stableNotificationHandle)&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this.emit(\"fade-complete\")}),(1+h)*s)}_notifyUnstable(){t(this._stableNotificationHandle)&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this.emit(\"fade-start\")}}export{n as SymbolFader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as s}from\"../../../../core/maybe.js\";import{createResolver as r}from\"../../../../core/promiseUtils.js\";import{create as i}from\"../../../../geometry/support/aaBoundingRect.js\";import o from\"../../tiling/TileKey.js\";import l from\"../../tiling/TileCoverage.js\";import{TiledDisplayObject as n}from\"../webgl/TiledDisplayObject.js\";import{WGLDrawPhase as a}from\"../webgl/enums.js\";import d from\"../webgl/TileContainer.js\";import{drawGridIndex as h,drawColliders as c}from\"./decluttering/debugging.js\";import{SymbolFader as y}from\"./decluttering/SymbolFader.js\";const u=1e-6;function p(e,t){if(e){const s=e.getLayoutProperty(\"visibility\");if(!s||1!==s.getValue()&&(void 0===e.minzoom||e.minzoom<t+u)&&(void 0===e.maxzoom||e.maxzoom>=t-u))return!0}return!1}class m extends d{constructor(e){super(e),this._backgroundTiles=[],this._pointToCallbacks=new Map,this._fading=!1}destroy(){this.removeAllChildren(),this._spriteMosaic&&(this._spriteMosaic.dispose(),this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic.dispose(),this._glyphMosaic=null),e(this._symbolFader)&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[],this._pointToCallbacks.clear()}setStyleResources(e,r,i){if(this._spriteMosaic=e,this._glyphMosaic=r,this._styleRepository=i,t(this._symbolFader)){const e=new y(this._styleRepository,this.children);e.on(\"fade-start\",(()=>{this.emit(\"fade-start\"),this._fading=!0,this.requestRender()})),e.on(\"fade-complete\",(()=>{this.emit(\"fade-complete\"),this._fading=!1,this.requestRender()})),this._symbolFader=e}s(this._symbolFader).styleRepository=i}deleteStyleLayers(t){e(this._symbolFader)&&this._symbolFader.deleteStyleLayers(t)}async hitTest(e,t){const s=[e,t],i=r();return this._pointToCallbacks.set(s,i),this.requestRender(),i.promise}enterTileInvalidation(){for(const e of this.children)e.invalidating=!0}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==a.MAP&&e.drawPhase!==a.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(t){return super.addChild(t),e(this._symbolFader)?this._symbolFader.addTile(t):t.decluttered=!0,this.requestRender(),t}removeChild(t){return e(this._symbolFader)&&this._symbolFader.removeTile(t),this.requestRender(),super.removeChild(t)}renderChildren(e){if(e.drawPhase!==a.DEBUG){if(this._doRender(e),this._pointToCallbacks.size>0){const{context:t}=e,s=t.getBoundFramebufferObject();e.drawPhase=a.HITTEST;const r=e.painter.effects.hittest;r.bind(e),this._doRender(e),r.draw(e,this._pointToCallbacks),t.bindFramebuffer(s)}}else super.renderChildren(e)}removeAllChildren(){for(let t=0;t<this.children.length;t++){const s=this.children[t];e(this._symbolFader)&&this._symbolFader.removeTile(s),s.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){e(this._symbolFader)&&this._symbolFader.restartDeclutter()}_doRender(t){const{context:s}=t,r=this._styleRepository;if(!r)return;const i=r.layers;let o=!0;t.drawPhase===a.HITTEST&&(o=!1),r.backgroundBucketIds.length>0&&(t.renderPass=\"background\",this._renderBackgroundLayers(t,r.backgroundBucketIds)),super.renderChildren(t),t.drawPhase===a.MAP&&this._fade(t.displayLevel,t.state);const l=this.children.filter((e=>e.visible&&e.hasData()));if(l&&0!==l.length){for(const e of l)e.triangleCount=0;s.setStencilWriteMask(0),s.setColorMask(!0,!0,!0,!0),s.setStencilOp(7680,7680,7681),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!1),s.setDepthTestEnabled(!0),s.setDepthWriteEnabled(!0),s.setDepthFunction(515),s.setClearDepth(1),s.clear(s.gl.DEPTH_BUFFER_BIT),t.renderPass=\"opaque\";for(let e=i.length-1;e>=0;e--)this._renderStyleLayer(i[e],t,l);s.setDepthWriteEnabled(!1),s.setBlendingEnabled(o),s.setBlendFunctionSeparate(1,771,1,771),t.renderPass=\"translucent\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);s.setDepthTestEnabled(!1),t.renderPass=\"symbol\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);if(s.bindVAO(),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!0),t.drawPhase===a.MAP){const t=window.COLLISION_DEBUG_CTX;if(t&&e(this._symbolFader)&&(t.clearRect(0,0,t.canvas.width,t.canvas.height),!this._fading||window.COLLISION_XRAY))for(const e of this.children)if(e.symbols){const s=[];if(e.symbols.forEach((e=>{s.push(...e)})),window.COLLISION_SHOW_GRID){var n,d,y;const e=null==(n=this._symbolFader)||null==(d=n._symbolDeclutterer)||null==(y=d._collisionJob)?void 0:y._gridIndex;e&&h(t,e)}c(t,s)}}}}_fade(t,s){e(this._symbolFader)&&(this._symbolFader.update(t,s)||this.requestRender())}_renderStyleLayer(e,t,s){const{painter:r,renderPass:i}=t;if(void 0===e)return;const o=e.getLayoutProperty(\"visibility\");if(o&&1===o.getValue())return;let l;switch(e.type){case 0:return;case 1:if(\"opaque\"!==i&&\"translucent\"!==t.renderPass)return;l=\"vtlFill\";break;case 2:if(\"translucent\"!==i)return;l=\"vtlLine\";break;case 4:if(\"symbol\"!==i)return;l=\"vtlCircle\";break;case 3:if(\"symbol\"!==i)return;l=\"vtlSymbol\"}if(s=3===e.type?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),\"vtlSymbol\"!==l){const r=t.displayLevel;if(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+u||void 0!==e.maxzoom&&e.maxzoom<r-u)return}const n=e.uid;t.styleLayerUID=n,t.styleLayer=e;for(const a of s)if(a.layerData.has(n)){r.renderObjects(t,s,l);break}}_renderBackgroundLayers(t,s){const{context:r,displayLevel:d,painter:h,state:c}=t,y=this._styleRepository;let u=!1;for(const e of s)if(p(y.getLayerById(e),d)){u=!0;break}if(!u)return;const m=this._tileInfoView.getTileCoverage(t.state,0,\"smallest\"),{spans:f,lodInfo:_}=m,{level:b}=_,g=i(),T=[];if(this._renderPasses){const s=this._renderPasses[0];e(this._clippingInfos)&&(s.brushes[0].prepareState(t,this._clippingInfos[0]),s.brushes[0].drawMany(t,this._clippingInfos))}const v=this._backgroundTiles;let C,F=0;for(const{row:e,colFrom:l,colTo:a}of f)for(let t=l;t<=a;t++){if(F<v.length)C=v[F],C.key.set(b,e,_.normalizeCol(t),_.getWorldForColumn(t)),this._tileInfoView.getTileBounds(g,C.key,!1),C.bounds=g,C.coords[0]=g[0],C.coords[1]=g[3];else{const s=new o(b,e,_.normalizeCol(t),_.getWorldForColumn(t));C=new n(s,this._tileInfoView.getTileBounds(i(),s),[512,512],[4096,4096]),v.push(C)}C.setTransform(c,this._tileInfoView.getTileResolution(C.key)),T.push(C),F++}r.setStencilWriteMask(0),r.setColorMask(!0,!0,!0,!0),r.setStencilOp(7680,7680,7681),r.setStencilFunction(514,0,255);let w=!0;t.drawPhase===a.HITTEST&&(w=!1),r.setStencilTestEnabled(w);for(const e of s){const s=y.getLayerById(e);p(s,d)&&(t.styleLayerUID=s.uid,t.styleLayer=s,h.renderObjects(t,T,\"vtlBackground\"))}l.pool.release(m)}}export{m as VectorTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileKey.js\";import s from\"./TileInfoView.js\";class t extends s{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const s=l.pool.acquire(e),t=0===s.level?null:l.getId(s.level-1,s.row>>1,s.col>>1,s.world);return l.pool.release(s),t}getTileCoverage(e,l,s){const t=super.getTileCoverage(e,l,s);if(!t)return t;const o=1<<t.lodInfo.level;return t.spans=t.spans.filter((e=>e.row>=0&&e.row<o)),t}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isNone as t}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{isAbortError as l,createAbortController as n}from\"../../../core/promiseUtils.js\";import o from\"../../../Graphic.js\";import h from\"../../../core/Handles.js\";import{create as u}from\"../../../geometry/support/aaBoundingRect.js\";import{diff as y,hasDiff as c}from\"../../../core/accessorSupport/diffUtils.js\";import p from\"../engine/vectorTiles/style/StyleRepository.js\";import d from\"../tiling/TileQueue.js\";import{VectorTile as _}from\"../engine/vectorTiles/VectorTile.js\";import f from\"../../layers/LayerView.js\";import{LayerView2DMixin as g}from\"./LayerView2D.js\";import{TileHandler as m}from\"../engine/vectorTiles/TileHandler.js\";import{TileManager as T}from\"../engine/vectorTiles/TileManager.js\";import{VectorTileContainer as v}from\"../engine/vectorTiles/VectorTileContainer.js\";import C from\"../tiling/TileInfoViewPOT.js\";const w=i.getLogger(\"esri.views.2d.layers.VectorTileLayerView2D\");let Q=class extends(g(f)){constructor(){super(...arguments),this._styleChanges=[],this._handles=new h,this._fetchQueue=null,this._parseQueue=null,this._isTileHandlerReady=!1,this.fading=!1}initialize(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference).equals(this.view.spatialReference))return void this.addResolvingPromise(Promise.reject(new a(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",{layer:this.layer})));const{style:t,spriteUrl:i,glyphsUrl:s}=this.layer.currentStyleInfo;this._styleRepository=new p(t,{spriteUrl:i,glyphsUrl:s}),this._tileInfoView=new C(this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new v(this._tileInfoView),this._tileHandler=new m(this.layer,this._styleRepository,window.devicePixelRatio||1),this.container.addChild(this._vectorTileContainer),this.handles.add([this._vectorTileContainer.on(\"fade-start\",(()=>{this.fading=!0,this.notifyChange(\"updating\"),this.requestUpdate()})),this._vectorTileContainer.on(\"fade-complete\",(()=>{this.fading=!1,this.notifyChange(\"updating\"),this.requestUpdate()}))])}destroy(){var e;this._stop(),this.container.removeAllChildren(),this._vectorTileContainer&&(this._vectorTileContainer.destroy(),this._vectorTileContainer=null),null==(e=this._tileHandler)||e.destroy(),this._tileHandler=null}async hitTest(e,t){if(this.suspended||!this._tileHandlerPromise)return null;await this._tileHandlerPromise;const i=await this._vectorTileContainer.hitTest(e,t);if(!i||0===i.length)return null;const s=i[0]-1,r=this._styleRepository,a=r.getStyleLayerByUID(s);if(!a)return null;const l=r.getStyleLayerIndex(a.id),n=new o({attributes:{layerId:l,layerName:a.id,layerUID:s}});return n.layer=this.layer,n.sourceLayer=this.layer,n}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._start(),void(this._tileHandler.devicePixelRatio=e.pixelRatio)):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._parseQueue.resume(),this._fetchQueue.resume()))}attach(){this._start(),this._handles.add([this.layer.on(\"paint-change\",(e=>{if(e.isDataDriven)this._styleChanges.push({type:0,data:e}),this.notifyChange(\"updating\"),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layerName);if(!i)return;const s=3===i.type;t.setPaintProperties(e.layerName,e.paint),s&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender()}})),this.layer.on(\"layout-change\",(e=>{const i=this._styleRepository,s=i.getLayerById(e.layer);if(!s)return;const r=y(s.layout,e.layout);if(!t(r)){if(c(r,\"visibility\")&&1===H(r))return i.setLayoutProperties(e.layer,e.layout),3===s.type&&this._vectorTileContainer.restartDeclutter(),void this._vectorTileContainer.requestRender();this._styleChanges.push({type:1,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()}})),this.layer.on(\"style-layer-visibility-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(t.setStyleLayerVisibility(e.layer,e.visibility),3===i.type&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender())})),this.layer.on(\"style-layer-change\",(e=>{this._styleChanges.push({type:2,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"delete-style-layer\",(e=>{this._styleChanges.push({type:3,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"load-style\",(()=>this._loadStyle()))])}detach(){this._stop(),this._handles.removeAll()}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}canResume(){let e=super.canResume();const t=this.layer;if(e&&t.currentStyleInfo){const i=this.view.scale,s=t.currentStyleInfo;if(s&&s.layerDefinition){const t=s.layerDefinition;t.minScale&&t.minScale<i&&(e=!1),t.maxScale&&t.maxScale>i&&(e=!1)}}return e}isUpdating(){const e=this._vectorTileContainer.children;return!this._isTileHandlerReady||!this._fetchQueue||!this._parseQueue||this._fetchQueue.updating||this._parseQueue.updating||e.length>0&&e.filter((e=>e.invalidating)).length>0||this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._tileHandlerPromise.then((()=>{this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once(\"attach\",(()=>this.requestUpdate())),e&&(t.setData(e.tileData),this.requestUpdate(),this.notifyChange(\"updating\"))})).catch((e=>{this.notifyChange(\"updating\"),l(e)||w.error(e)}))})),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new T({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new d({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15}),this._parseQueue=new d({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue&&(this._fetchQueue.destroy(),this._fetchQueue=null),this._parseQueue&&(this._parseQueue.destroy(),this._parseQueue=null),this._tileManager&&(this._tileManager.destroy(),this._tileManager=null),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){const i=await this._tileHandler.fetchTileData(e,t);return this.notifyChange(\"updating\"),i}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(l){w.error(\"error applying vector-tiles style update\",l.message),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0}const t=this._styleRepository,i=[];e.forEach((e=>{if(3!==e.type)return;const s=e.data,r=t.getLayerById(s.layerName);r&&i.push(r.uid)}));const s=[];let r;e.forEach((e=>{const i=e.type,a=e.data;switch(i){case 0:t.setPaintProperties(a.layerName,a.paint),r=a.layerName;break;case 1:t.setLayoutProperties(a.layerName,a.layout),r=a.layerName;break;case 3:return void t.deleteStyleLayer(a.layerName);case 2:t.setStyleLayer(a.layer,a.index),r=a.layer.id}const l=t.getLayerById(r);l&&s.push(l.uid)}));const a=this._vectorTileContainer.children;if(i.length>0){this._vectorTileContainer.deleteStyleLayers(i);for(const e of a)e.deleteLayerData(i)}if(this._fetchQueue.resume(),this._parseQueue.resume(),s.length>0){const e=[];for(const t of a){const i=this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e,styleLayerUIDs:s}))).then((e=>t.setData(e.tileData)));e.push(i)}await Promise.all(e)}this._styleChanges=[],this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}async _loadStyle(){const{style:e,spriteUrl:t,glyphsUrl:i}=this.layer.currentStyleInfo;this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this.notifyChange(\"updating\"),this._styleRepository=new p(e,{spriteUrl:t,glyphsUrl:i}),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=n();const{signal:s}=this._tileHandlerAbortController;try{this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,e),await this._tileHandlerPromise}catch(a){if(!l(a))throw a}if(s.aborted)return this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),void this.requestUpdate();const r=await this._tileHandler.spriteMosaic;this._vectorTileContainer.setStyleResources(r,this._tileHandler.glyphMosaic,this._styleRepository),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}_createVectorTile(e){const t=this._tileInfoView.getTileBounds(u(),e);return new _(e,this._styleRepository,t,[512,512])}};function H(e){if(t(e))return 0;switch(e.type){case\"partial\":return Object.keys(e.diff).length;case\"complete\":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case\"collection\":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}e([s()],Q.prototype,\"_fetchQueue\",void 0),e([s()],Q.prototype,\"_parseQueue\",void 0),e([s()],Q.prototype,\"_isTileHandlerReady\",void 0),e([s()],Q.prototype,\"suspended\",void 0),e([s()],Q.prototype,\"fading\",void 0),e([s()],Q.prototype,\"updating\",void 0),Q=e([r(\"esri.views.2d.layers.VectorTileLayerView2D\")],Q);var R=Q;export default R;\n"],"sourceRoot":""}