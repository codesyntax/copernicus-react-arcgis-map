{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/GPMessage.js","../node_modules/@arcgis/core/core/queryUtils.js","../node_modules/@arcgis/core/tasks/support/NAMessage.js","../node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","../node_modules/@arcgis/core/tasks/support/RouteResult.js","../node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","../node_modules/@arcgis/core/rest/networkUtils.js","../node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js"],"names":["p","s","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","i","r","description","type","t","e","String","json","write","prototype","read","a","o","this","_options","toJSON","n","Object","keys","forEach","name","getter","Array","isArray","join","JSON","stringify","0","1","2","3","50","100","101","200","c","l","length","query","f","token","data","supportedTravelModes","defaultTravelMode","error","substring","indexOf","owningSystemUrl","test","path","serviceName","u","d","results","paramName","value","features","attributes","parse","TravelMode","push","_serviceDescriptionPromise","_fetchServiceDescription","url","parsedUrl","id","itemId","currentVersion","hasZ","z","console","log","directions","route","routeName","stops","fromJSON","map","barriers","messages","pointBarriers","polylineBarriers","polygonBarriers","routeResults","aliasOf","geometry","v","m","routes","spatialReference","h","g","Name","RouteName","splice","T","extent","geometryType","routeId","totalDriveTime","totalLength","totalTime","_decompressFeatureGeometry","summary","envelope","strings","events","x","point","y","ETA","arriveTimeUTC","get","_mergePolylinesToSinglePath","_decompressGeometry","compressedGeometry","match","parseInt","paths","hasM","concat","source","readOnly"],"mappings":"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","file":"static/js/15.b2c28848.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e};class e{constructor(t={}){this._options=t}toQueryParams(e){if(!e)return null;const o=e.toJSON(),n={};return Object.keys(o).forEach((e=>{const r=this._options[e];if(r){const s=\"boolean\"!=typeof r&&r.name?r.name:e,i=\"boolean\"!=typeof r&&r.getter?r.getter(o):o[e];null!=i&&(n[s]=t(i)?i.join(\",\"):\"object\"==typeof i?JSON.stringify(i):i)}else n[e]=o[e]}),this),n}}function o(t){return new e(t)}export{o as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import n from\"../Task.js\";async function l(e,r){try{const{data:{supportedTravelModes:t,defaultTravelMode:s}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\",token:r}});return{supportedTravelModes:t,defaultTravelMode:s}}catch(t){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:t})}}async function c(e,t){const{data:s}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\",token:t}});if(!s||!s.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=s.owningSystemUrl;const{data:o}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\",token:t}}),n=r(\"helperServices.routingUtilities.url\",o);if(!n)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),c=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",u=await a(n+(\"/\"===n[n.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:c,token:t}}),p=[];let d=null;if(u&&u.data&&u.data.results&&u.data.results.length){const e=u.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);p.push(r)}}else\"defaultTravelMode\"===r.paramName&&(d=r.value)}return{supportedTravelModes:p,defaultTravelMode:d}}const u=r=>{let i=class extends r{async getServiceDescription(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription(e)),this._serviceDescriptionPromise}async _fetchServiceDescription(e){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const r=this.url,{data:t}=await a(r,{query:{f:\"json\",token:e}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let o=0;o<t.supportedTravelModes.length;o++)t.supportedTravelModes[o].id||(t.supportedTravelModes[o].id=t.supportedTravelModes[o].itemId);const s=t.currentVersion>=10.4?l(r,e):c(r,e),{defaultTravelMode:i,supportedTravelModes:n}=await s;return t.defaultTravelMode=i,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return i=e([s(\"esri.tasks.mixins.NAServiceDescription\")],i),i};let p=class extends(u(n)){};p=e([s(\"esri.tasks.mixins.NAServiceDescription\")],p);export{p as NAServiceDescription,u as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getDeepValue as e}from\"../core/object.js\";import{isSome as t}from\"../core/maybe.js\";import r from\"../core/Error.js\";import s from\"../request.js\";import{parseUrl as o}from\"./utils.js\";import a from\"../tasks/support/RouteResultsContainer.js\";function l(e,t,r,s){s[r]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}function n(e,t){for(let r=0;r<t.length;r++){const s=e[t[r]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}function i(e){const t=[],r=[],{directions:s=[],routes:{features:o=[],spatialReference:l=null}={},stops:{features:n=[],spatialReference:i=null}={},barriers:u,polygonBarriers:d,polylineBarriers:p,messages:f}=e.data,c=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let v,m,h=!0;const g=o&&l||n&&i||u&&u.spatialReference||d&&d.spatialReference||p&&p.spatialReference;s.forEach((e=>{t.push(v=e.routeName),r[v]={directions:e}})),o.forEach((e=>{-1===t.indexOf(v=e.attributes.Name)&&(t.push(v),r[v]={}),e.geometry&&(e.geometry.spatialReference=g),r[v].route=e})),n.forEach((e=>{m=e.attributes,-1===t.indexOf(v=m.RouteName||c)&&(t.push(v),r[v]={}),v!==c&&(h=!1),e.geometry&&(e.geometry.spatialReference=g),null==r[v].stops&&(r[v].stops=[]),r[v].stops.push(e)})),n.length>0&&!0===h&&(r[t[0]].stops=r[c].stops,delete r[c],t.splice(t.indexOf(c),1));const T=t.map((e=>(r[e].routeName=e===c?null:e,r[e])));return a.fromJSON({routeResults:T,pointBarriers:u,polygonBarriers:d,polylineBarriers:p,messages:f})}function u(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}async function d(e){if(!e)throw new r(\"network-service:missing-url\",\"Url to Network service is missing\");const{data:t}=await s(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let r=0;r<t.supportedTravelModes.length;r++)t.supportedTravelModes[r].id||(t.supportedTravelModes[r].id=t.supportedTravelModes[r].itemId);const o=t.currentVersion>=10.4?f(e):p(e),{defaultTravelMode:a,supportedTravelModes:l}=await o;return t.defaultTravelMode=a,t.supportedTravelModes=l,t}async function p(t){const{data:r}=await s(t.substring(0,t.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!r||!r.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};t=r.owningSystemUrl;const{data:a}=await s(t+(\"/\"===t[t.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),l=e(\"helperServices.routingUtilities.url\",a);if(!l)return{supportedTravelModes:[],defaultTravelMode:null};const n=o(t),i=/\\/solve$/.test(n.path)?\"Route\":/\\/solveClosestFacility$/.test(n.path)?\"ClosestFacility\":\"ServiceAreas\",u=await s(l+(\"/\"===l[l.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:i}}),d=[];let p=null;if(u&&u.data&&u.data.results&&u.data.results.length){const e=u.data.results;for(const t of e)if(\"supportedTravelModes\"===t.paramName){if(t.value&&t.value.features)for(const{attributes:e}of t.value.features)if(e){const t=JSON.parse(e.TravelMode);d.push(t)}}else\"defaultTravelMode\"===t.paramName&&(p=t.value)}return{supportedTravelModes:d,defaultTravelMode:p}}async function f(e){try{const{data:{supportedTravelModes:t,defaultTravelMode:r}}=await s(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:t,defaultTravelMode:r}}catch(t){throw new r(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:t})}}export{l as collectGeometries,n as dropZValuesOffInputGeometry,d as fetchServiceDescription,p as fetchTravelModesGP,i as handleSolveResponse,u as isInputGeometryZAware,f as retrieveTravelModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,g,h=0,f=0,d=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[h],32)){h=2;const e=parseInt(u[h],32);h++,c=parseInt(u[h],32),h++,1&e&&(f=u.indexOf(\"|\")+1,y=parseInt(u[f],32),f++),2&e&&(d=u.indexOf(\"|\",f)+1,g=parseInt(u[d],32),d++)}else c=parseInt(u[h],32),h++;for(;h<u.length&&\"|\"!==u[h];){n=parseInt(u[h],32)+r,h++,r=n,i=parseInt(u[h],32)+o,h++,o=i;const e=[n/c,i/c];f&&(l=parseInt(u[f],32)+s,f++,s=l,e.push(l/y)),d&&(m=parseInt(u[d],32)+a,d++,a=m,e.push(m/g)),p.push(e)}return{paths:[p],hasZ:f>0,hasM:d>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n"],"sourceRoot":""}