(this["webpackJsonpcopernicus-react-arcgis-map"]=this["webpackJsonpcopernicus-react-arcgis-map"]||[]).push([[15],{591:function(e,t,r){"use strict";var a=r(2),n=r(4),s=r(5),o=r(0),i=(r(12),r(11),r(14),r(1)),u=r(35),c=r(6),l=(r(9),r(15),r(16),r(21)),p=new u.a({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),f=function(e){Object(n.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).description=null,n.type=null,n}return r}(l.a);Object(o.a)([Object(i.b)({type:String,json:{write:!0}})],f.prototype,"description",void 0),Object(o.a)([Object(i.b)({type:String,json:{read:p.read,write:p.write}})],f.prototype,"type",void 0);var d=f=Object(o.a)([Object(c.a)("esri.tasks.support.GPMessage")],f);t.a=d},644:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(2),n=r(3),s=r(27),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),this._options=t}return Object(n.a)(e,[{key:"toQueryParams",value:function(e){var t=this;if(!e)return null;var r=e.toJSON(),a={};return Object.keys(r).forEach((function(e){var n=t._options[e];if(n){var o="boolean"!=typeof n&&n.name?n.name:e,i="boolean"!=typeof n&&n.getter?n.getter(r):r[e];null!=i&&(a[o]=function(e){if(!Array.isArray(e))return!1;var t=Object(s.a)(e,1)[0];return"number"==typeof t||"string"==typeof t}(i)?i.join(","):"object"==typeof i?JSON.stringify(i):i)}else a[e]=r[e]}),this),a}}]),e}();function i(e){return new o(e)}},645:function(e,t,r){"use strict";var a=r(2),n=r(4),s=r(5),o=r(0),i=(r(12),r(11),r(14),r(1)),u=r(35),c=r(6),l=(r(9),r(15),r(16),r(591)),p=new u.a({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),f=function(e){Object(n.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type=null,n}return r}(l.a);Object(o.a)([Object(i.b)({type:String,json:{read:p.read,write:p.write}})],f.prototype,"type",void 0);var d=f=Object(o.a)([Object(c.a)("esri.tasks.support.NAMessage")],f);t.a=d},646:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var a=r(10),n=r(8),s=r.n(n),o=r(2),i=r(3),u=r(4),c=r(5),l=r(18),p=r(0),f=(r(12),r(60)),d=r(7),v=(r(11),r(14),r(1),r(6)),b=r(17),y=r(9),j=(r(15),r(16),r(50)),O=r(368);function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(s.a.mark((function e(t,r){var a,n,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.default)(t+("/"===t[t.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json",token:r}});case 3:return a=e.sent,n=a.data,o=n.supportedTravelModes,i=n.defaultTravelMode,e.abrupt("return",{supportedTravelModes:o,defaultTravelMode:i});case 10:throw e.prev=10,e.t0=e.catch(0),new b.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function g(e,t){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(s.a.mark((function e(t,r){var n,o,i,u,c,l,p,d,v,b,O,h,m,g,T,M,w,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.default)(t.substring(0,t.indexOf("/rest/")+6)+"info",{query:{f:"json",token:r}});case 2:if(n=e.sent,(o=n.data)&&o.owningSystemUrl){e.next=6;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 6:return t=o.owningSystemUrl,e.next=9,Object(j.default)(t+("/"===t[t.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json",token:r}});case 9:if(i=e.sent,u=i.data,c=Object(f.b)("helperServices.routingUtilities.url",u)){e.next=14;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 14:return l=Object(y.J)(t),p=/\/solveClosestFacility$/.test(l.path)?"Route":/\/solveClosestFacility$/.test(l.path)?"ClosestFacility":"ServiceAreas",e.next=18,Object(j.default)(c+("/"===c[c.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:p,token:r}});case 18:if(d=e.sent,v=[],b=null,d&&d.data&&d.data.results&&d.data.results.length){O=d.data.results,h=Object(a.a)(O);try{for(h.s();!(m=h.n()).done;)if("supportedTravelModes"===(g=m.value).paramName){if(g.value&&g.value.features){T=Object(a.a)(g.value.features);try{for(T.s();!(M=T.n()).done;)(w=M.value.attributes)&&(k=JSON.parse(w.TravelMode),v.push(k))}catch(s){T.e(s)}finally{T.f()}}}else"defaultTravelMode"===g.paramName&&(b=g.value)}catch(s){h.e(s)}finally{h.f()}}return e.abrupt("return",{supportedTravelModes:v,defaultTravelMode:b});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=function(e){Object(u.a)(r,e);var t=Object(c.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"getServiceDescription",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription(t)),this._serviceDescriptionPromise));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchServiceDescription",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var r,a,n,o,i,u,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.url&&this.parsedUrl){e.next=2;break}throw new b.a("network-service:missing-url","Url to Network service is missing");case 2:return r=this.url,e.next=5,Object(j.default)(r,{query:{f:"json",token:t}});case 5:for(a=e.sent,(n=a.data).supportedTravelModes||(n.supportedTravelModes=[]),o=0;o<n.supportedTravelModes.length;o++)n.supportedTravelModes[o].id||(n.supportedTravelModes[o].id=n.supportedTravelModes[o].itemId);return i=n.currentVersion>=10.4?h(r,t):g(r,t),e.next=12,i;case 12:return u=e.sent,c=u.defaultTravelMode,l=u.supportedTravelModes,e.abrupt("return",(n.defaultTravelMode=c,n.supportedTravelModes=l,n));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isInputGeometryZAware",value:function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var s,o=Object(a.a)(n);try{for(o.s();!(s=o.n()).done;){var i=s.value;if(Object(d.i)(i)&&i.hasZ)return!0}}catch(u){o.e(u)}finally{o.f()}}}return!1}},{key:"_dropZValuesOffInputGeometry",value:function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var s,o=Object(a.a)(n);try{for(o.s();!(s=o.n()).done;){s.value.z=void 0}}catch(i){o.e(i)}finally{o.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}}]),r}(e);return t=Object(p.a)([Object(v.a)("esri.tasks.mixins.NAServiceDescription")],t)},w=function(e){Object(u.a)(r,e);var t=Object(c.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return r}(M(O.a));w=Object(p.a)([Object(v.a)("esri.tasks.mixins.NAServiceDescription")],w)},692:function(e,t,r){"use strict";r.d(t,"a",(function(){return B})),r.d(t,"b",(function(){return J})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return P})),r.d(t,"e",(function(){return I}));var a=r(8),n=r.n(a),s=r(18),o=r(10),i=r(60),u=r(7),c=r(17),l=r(50),p=r(113),f=r(2),d=r(3),v=r(4),b=r(5),y=r(0),j=(r(12),r(11),r(14),r(1)),O=r(24),h=r(6),m=(r(9),r(15),r(16),r(21)),g=r(89),T=r(129),M=r(645),w=r(703),k=function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).directions=null,a.route=null,a.routeName=null,a.stops=null,a}return r}(m.a);Object(y.a)([Object(j.b)({type:w.a,json:{write:!0}})],k.prototype,"directions",void 0),Object(y.a)([Object(j.b)({type:g.a,json:{write:!0}})],k.prototype,"route",void 0),Object(y.a)([Object(j.b)({type:String,json:{write:!0}})],k.prototype,"routeName",void 0),Object(y.a)([Object(j.b)({type:[g.a],json:{write:!0}})],k.prototype,"stops",void 0);var x=k=Object(y.a)([Object(h.a)("esri.tasks.support.RouteResult")],k);function N(e){return e&&T.default.fromJSON(e).features.map((function(e){return e}))}var S=function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).barriers=null,a.messages=null,a.pointBarriers=null,a.polylineBarriers=null,a.polygonBarriers=null,a.routeResults=null,a}return Object(d.a)(r,[{key:"readPointBarriers",value:function(e,t){return N(t.barriers||t.pointBarriers)}},{key:"readPolylineBarriers",value:function(e){return N(e)}},{key:"readPolygonBarriers",value:function(e){return N(e)}}]),r}(m.a);Object(y.a)([Object(j.b)({aliasOf:"pointBarriers"})],S.prototype,"barriers",void 0),Object(y.a)([Object(j.b)({type:[M.a]})],S.prototype,"messages",void 0),Object(y.a)([Object(j.b)({type:[g.a]})],S.prototype,"pointBarriers",void 0),Object(y.a)([Object(O.a)("pointBarriers",["barriers","pointBarriers"])],S.prototype,"readPointBarriers",null),Object(y.a)([Object(j.b)({type:[g.a]})],S.prototype,"polylineBarriers",void 0),Object(y.a)([Object(O.a)("polylineBarriers")],S.prototype,"readPolylineBarriers",null),Object(y.a)([Object(j.b)({type:[g.a]})],S.prototype,"polygonBarriers",void 0),Object(y.a)([Object(O.a)("polygonBarriers")],S.prototype,"readPolygonBarriers",null),Object(y.a)([Object(j.b)({type:[x]})],S.prototype,"routeResults",void 0);var R=S=Object(y.a)([Object(h.a)("esri.tasks.support.RouteResultsContainer")],S);function B(e,t,r,a){a[r]=[t.length,t.length+e.length],e.forEach((function(e){t.push(e.geometry)}))}function J(e,t){for(var r=0;r<t.length;r++){var a=e[t[r]];if(a&&a.length){var n,s=Object(o.a)(a);try{for(s.s();!(n=s.n()).done;){n.value.z=void 0}}catch(i){s.e(i)}finally{s.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function P(e){var t,r,a=[],n=[],s=e.data,o=s.directions,i=void 0===o?[]:o,u=s.routes,c=(u=void 0===u?{}:u).features,l=void 0===c?[]:c,p=u.spatialReference,f=void 0===p?null:p,d=s.stops,v=(d=void 0===d?{}:d).features,b=void 0===v?[]:v,y=d.spatialReference,j=void 0===y?null:y,O=s.barriers,h=s.polygonBarriers,m=s.polylineBarriers,g=s.messages,T="esri.tasks.RouteTask.NULL_ROUTE_NAME",M=!0,w=l&&f||b&&j||O&&O.spatialReference||h&&h.spatialReference||m&&m.spatialReference;i.forEach((function(e){a.push(t=e.routeName),n[t]={directions:e}})),l.forEach((function(e){-1===a.indexOf(t=e.attributes.Name)&&(a.push(t),n[t]={}),e.geometry&&(e.geometry.spatialReference=w),n[t].route=e})),b.forEach((function(e){r=e.attributes,-1===a.indexOf(t=r.RouteName||T)&&(a.push(t),n[t]={}),t!==T&&(M=!1),e.geometry&&(e.geometry.spatialReference=w),null==n[t].stops&&(n[t].stops=[]),n[t].stops.push(e)})),b.length>0&&!0===M&&(n[a[0]].stops=n[T].stops,delete n[T],a.splice(a.indexOf(T),1));var k=a.map((function(e){return n[e].routeName=e===T?null:e,n[e]}));return R.fromJSON({routeResults:k,pointBarriers:O,polygonBarriers:h,polylineBarriers:m,messages:g})}function I(e,t){for(var r=0;r<t.length;r++){var a=e[t[r]];if(a&&a.length){var n,s=Object(o.a)(a);try{for(s.s();!(n=s.n()).done;){var i=n.value;if(Object(u.i)(i)&&i.hasZ)return!0}}catch(c){s.e(c)}finally{s.f()}}}return!1}function _(e){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(n.a.mark((function e(t){var r,a,s,o,i,u,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new c.a("network-service:missing-url","Url to Network service is missing");case 2:return e.next=4,Object(l.default)(t,{query:{f:"json"}});case 4:for(r=e.sent,(a=r.data).supportedTravelModes||(a.supportedTravelModes=[]),s=0;s<a.supportedTravelModes.length;s++)a.supportedTravelModes[s].id||(a.supportedTravelModes[s].id=a.supportedTravelModes[s].itemId);return o=a.currentVersion>=10.4?U(t):E(t),e.next=11,o;case 11:return i=e.sent,u=i.defaultTravelMode,p=i.supportedTravelModes,e.abrupt("return",(a.defaultTravelMode=u,a.supportedTravelModes=p,a));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(n.a.mark((function e(t){var r,a,s,u,c,f,d,v,b,y,j,O,h,m,g,T,M,w;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.default)(t.substring(0,t.indexOf("/rest/")+6)+"info",{query:{f:"json"}});case 2:if(r=e.sent,(a=r.data)&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 6:return t=a.owningSystemUrl,e.next=9,Object(l.default)(t+("/"===t[t.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}});case 9:if(s=e.sent,u=s.data,c=Object(i.b)("helperServices.routingUtilities.url",u)){e.next=14;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 14:return f=Object(p.c)(t),d=/\/solve$/.test(f.path)?"Route":/\/solveClosestFacility$/.test(f.path)?"ClosestFacility":"ServiceAreas",e.next=18,Object(l.default)(c+("/"===c[c.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:d}});case 18:if(v=e.sent,b=[],y=null,v&&v.data&&v.data.results&&v.data.results.length){j=v.data.results,O=Object(o.a)(j);try{for(O.s();!(h=O.n()).done;)if("supportedTravelModes"===(m=h.value).paramName){if(m.value&&m.value.features){g=Object(o.a)(m.value.features);try{for(g.s();!(T=g.n()).done;)(M=T.value.attributes)&&(w=JSON.parse(M.TravelMode),b.push(w))}catch(n){g.e(n)}finally{g.f()}}}else"defaultTravelMode"===m.paramName&&(y=m.value)}catch(n){O.e(n)}finally{O.f()}}return e.abrupt("return",{supportedTravelModes:b,defaultTravelMode:y});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return G.apply(this,arguments)}function G(){return(G=Object(s.a)(n.a.mark((function e(t){var r,a,s,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.default)(t+("/"===t[t.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}});case 3:return r=e.sent,a=r.data,s=a.supportedTravelModes,o=a.defaultTravelMode,e.abrupt("return",{supportedTravelModes:s,defaultTravelMode:o});case 10:throw e.prev=10,e.t0=e.catch(0),new c.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},703:function(e,t,r){"use strict";var a=r(2),n=r(3),s=r(4),o=r(5),i=r(0),u=(r(12),r(7)),c=(r(11),r(14),r(1)),l=r(24),p=r(6),f=(r(9),r(15),r(16),r(34)),d=r(45),v=r(47),b=r(83),y=(r(63),r(89)),j=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).extent=null,n.features=null,n.geometryType="polyline",n.routeId=null,n.routeName=null,n.totalDriveTime=null,n.totalLength=null,n.totalTime=null,n}return Object(n.a)(r,[{key:"readFeatures",value:function(e,t){var r=this;(e||[]).forEach((function(e){r._decompressFeatureGeometry(e,t.summary.envelope.spatialReference)}));var a=f.a.fromJSON(t.spatialReference);return e.map((function(e){var t=y.a.fromJSON(e),r=e.geometry&&e.geometry.spatialReference;return t.geometry&&!r&&(Object(u.o)(t.geometry).spatialReference=a),t.strings=e.strings,t.events=(e.events||[]).map((function(t){var r=new y.a({geometry:new d.a({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),t}))}},{key:"mergedGeometry",get:function(){if(!this.features)return null;var e=this.features.map((function(e){var t=e.geometry;return Object(u.o)(t)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}},{key:"strings",get:function(){return this.features.map((function(e){return e.strings}))}},{key:"_decompressFeatureGeometry",value:function(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}},{key:"_decompressGeometry",value:function(e,t){var r,a,n,s,o,i,u,c,l=0,p=0,f=0,d=0,v=[],b=0,y=0,j=0;if((o=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(o=[]),0===parseInt(o[b],32)){b=2;var O=parseInt(o[b],32);b++,i=parseInt(o[b],32),b++,1&O&&(y=o.indexOf("|")+1,u=parseInt(o[y],32),y++),2&O&&(j=o.indexOf("|",y)+1,c=parseInt(o[j],32),j++)}else i=parseInt(o[b],32),b++;for(;b<o.length&&"|"!==o[b];){r=parseInt(o[b],32)+l,b++,l=r,a=parseInt(o[b],32)+p,b++,p=a;var h=[r/i,a/i];y&&(s=parseInt(o[y],32)+f,y++,f=s,h.push(s/u)),j&&(n=parseInt(o[j],32)+d,j++,d=n,h.push(n/c)),v.push(h)}return{paths:[v],hasZ:y>0,hasM:j>0,spatialReference:t}}},{key:"_mergePolylinesToSinglePath",value:function(e,t){var r=[];(e||[]).forEach((function(e){e.paths.forEach((function(e){r=r.concat(e)}))}));var a=[],n=[0,0];return r.forEach((function(e){e[0]===n[0]&&e[1]===n[1]||(a.push(e),n=e)})),new b.a({paths:[a]},t)}}]),r}(r(129).default);Object(i.a)([Object(c.b)({type:v.a,json:{read:{source:"summary.envelope"}}})],j.prototype,"extent",void 0),Object(i.a)([Object(c.b)()],j.prototype,"features",void 0),Object(i.a)([Object(l.a)("features")],j.prototype,"readFeatures",null),Object(i.a)([Object(c.b)()],j.prototype,"geometryType",void 0),Object(i.a)([Object(c.b)({readOnly:!0})],j.prototype,"mergedGeometry",null),Object(i.a)([Object(c.b)()],j.prototype,"routeId",void 0),Object(i.a)([Object(c.b)()],j.prototype,"routeName",void 0),Object(i.a)([Object(c.b)({value:null,readOnly:!0})],j.prototype,"strings",null),Object(i.a)([Object(c.b)({json:{read:{source:"summary.totalDriveTime"}}})],j.prototype,"totalDriveTime",void 0),Object(i.a)([Object(c.b)({json:{read:{source:"summary.totalLength"}}})],j.prototype,"totalLength",void 0),Object(i.a)([Object(c.b)({json:{read:{source:"summary.totalTime"}}})],j.prototype,"totalTime",void 0);var O=j=Object(i.a)([Object(p.a)("esri.tasks.support.DirectionsFeatureSet")],j);t.a=O}}]);
//# sourceMappingURL=15.b2c28848.chunk.js.map