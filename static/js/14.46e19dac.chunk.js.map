{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/AggregateGraphic.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/views/layers/support/FeatureEffect.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js","../node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js","../node_modules/@arcgis/core/views/2d/tiling/TileManager.js","../node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js"],"names":["p","e","layer","parent","this","when","catch","name","r","id","s","title","t","getLogger","declaredClass","error","get","canResume","getSuspendInfo","suspended","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","visible","suspendInfo","view","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible","a","l","n","o","EventedMixin","i","prototype","readOnly","type","Boolean","d","arguments","left","right","top","bottom","_get","Number","String","json","write","y","c","base","key","typeMap","extent","polygon","geometry","clone","types","read","m","path","ofType","rect","clips","moving","attached","lastUpdateId","updateRequested","container","h","fadeTransitionEnabled","opacity","handles","add","requestUpdate","blendMode","effect","on","notifyChange","whenLayerView","then","destroyed","attach","detach","remove","minScale","maxScale","isFulfilled","isResolved","_set","update","isVisibleAtScale","scale","set","minDataValue","maxDataValue","minSize","maxSize","SIZE_MINMAX_VALUE","expression","valueExpression","Array","isArray","stops","SIZE_SCALE_STOPS","field","levels","SIZE_FIELD_STOPS","valueUnit","SIZE_UNIT_VALUE","NONE","xoffset","Math","max","abs","yoffset","length","size","filter","map","f","floor","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","spatialReference","x","xmin","min","ymin","xmax","ymax","popupTemplate","getRequiredFields","fields","lastEditInfoEnabled","u","objectIdField","typeIdField","globalIdField","relationships","includes","push","indexOf","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","isAggregate","sourceLayer","featureReduction","popupEnabled","objectId","cloneProperties","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","where","spatialRelationship","hiddenIds","Set","distance","objectIds","units","timeExtent","enabled","source","reader","target","writer","from","overridePolicy","j","includedEffect","excludedEffect","excludedLabelsVisible","q","R","_updatingRequiredFieldsPromise","requiredFields","F","_handleRequiredFieldsChange","w","outFields","Error","returnGeometry","outSpatialReference","createQuery","intersection","_updateRequiredFields","displayField","collectRequiredFields","timeInfo","startField","endField","floorInfo","floorField","sort","clientGraphics","Promise","resolve","_loadArcadeModules","arcadeUtils","hasGeometryOperations","createPopupQuery","attributes","queryFeatures","concat","features","geometryType","returnZ","returnM","b","isEmpty","E","v","g","default","_startupResolver","isReady","_controller","addResolvingPromise","_startWorker","signal","abort","_connection","close","client","tileRenderer","closed","transferList","service","config","tileInfo","toJSON","tiles","invoke","promise","addedFeatures","deletedFeatures","updatedFeatures","value","strategy","_tiles","Map","buffer","acquireTile","releaseTile","tileInfoView","_releaseTile","getTileCoverage","state","spans","lodInfo","level","row","colFrom","colTo","getId","normalizeCol","getWorldForColumn","_getOrAcquireTile","_addPlaceholders","has","pool","release","hasMissingTiles","added","removed","delete","_addPlaceholderChildren","_addPlaceholderParent","_getTile","_addPlaceholderChild","hasData","contains","getParentKey","patchCount","B","K","W","X","_pipelineIsUpdating","_updatingPipelineConfig","_onGoingEdits","_isRefreshing","_visibilityOverrides","_effect","_highlightIds","_lastPixelBuffer","effectLists","included","V","excluded","doRefresh","_lockGPUUploads","_proxy","refresh","_unlockGPUUploads","_doUpdate","_hasRequiredSupport","_getEffectiveRenderer","historicMoment","gdbVersion","definitionExpression","labelsVisible","labelingInfo","availableFields","pixelBuffer","N","L","_createConfiguration","schema","_createTileRendererHash","_tileRendererHash","_initTileRenderer","_serviceOptions","effects","enable","onConfigUpdate","_tileStrategy","tileKeys","openPorts","startup","featuresTilingScheme","hasHighlight","setHighlight","keys","_onceTilesUpdated","mesh","targets","aggregate","applyUpdate","_forceAttributeTextureUpload","invalidateLabels","_updateHighlight","destroy","_updateClusterSizeTask","all","_initProxy","_initServiceOptions","valueRanges","isTable","_createClientOptions","z","_createServiceOptions","floors","getTime","JSON","stringify","geometryDefinition","filterHash","effectHash","streamFilter","clipsHash","hasEffects","_","getObjectId","isCollection","getAttribute","toArray","_addHighlight","_removeHighlight","_hitTest","queryStatistics","queryFeaturesJSON","fromJSON","_cleanUpQuery","queryObjectIds","queryFeatureCount","queryExtent","count","_update","updateTiles","timeline","record","D","_acquireTile","some","onEdits","removeAllChildren","uninstall","validateFetchPopupFeatures","fetchClientPopupFeatures","_fetchServicePopupFeatures","C","createFetchPopupFeaturesQueryGeometry","setUpdating","emitEvent","emit","capabilities","operations","supportsEditing","mode","featureCount","fullExtent","width","height","warn","customParameters","getFeatureDefinition","parsedUrl","dynamicDataSource","query","_detectQueryMode","maxRecordCount","tileMaxRecordCount","S","watch","_updateClusterEffectiveRendererSizeVariable","_effectiveRenderer","dynamicClusterSize","O","T","P","_aggregateValueRanges","_createUpdateClusterSizeTask","aggregateFields","once","A","layerView","clear","install","getAttributeHash","_addFloorFilterClause","G","viewAllLevelIds","replace","join","RegExp","trim","_injectOverrides","H","U","devicePixelRatio","window","filters","supportsTextureFloat","maxTextureSize","lockGPUUploads","unlockGPUUploads","forceAttributeTextureUpload","begin","_updatingPromise","end","hitTest","getFeature","_createHittestResult","getAggregate","referenceId","k","I","M","J","Y"],"mappings":"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","file":"static/js/14.46e19dac.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import o from\"../../core/Evented.js\";import{IdentifiableMixin as l}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let p=class extends(a(l(n(o.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r()],p.prototype,\"fullOpacity\",null),e([r()],p.prototype,\"layer\",void 0),e([r()],p.prototype,\"parent\",void 0),e([r({readOnly:!0})],p.prototype,\"suspended\",null),e([r({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([r({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([r({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([r()],p.prototype,\"visible\",null),p=e([s(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var y;const c={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let n=y=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};r([o({types:c,json:{read:m,write:!0}})],n.prototype,\"geometry\",void 0),r([o({readOnly:!0})],n.prototype,\"version\",null),n=y=r([e(\"esri.views.layers.support.Geometry\")],n);var l=n;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),r([o({readOnly:!0})],e.prototype,\"version\",null),e=r([s(\"esri.views.layers.support.Path\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as o}from\"../../../core/watchUtils.js\";import a from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as h}from\"../engine/Container.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:a,typeMap:{rect:p,path:d,geometry:n}}),l=i=>{let a=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new h),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([o(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),o(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),o(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),o(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([e({type:c,set(t){const e=r(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],a.prototype,\"clips\",void 0),t([e()],a.prototype,\"moving\",void 0),t([e()],a.prototype,\"attached\",void 0),t([e()],a.prototype,\"container\",void 0),t([e()],a.prototype,\"suspended\",void 0),t([e({readOnly:!0})],a.prototype,\"updateParameters\",void 0),t([e()],a.prototype,\"updateRequested\",void 0),t([e()],a.prototype,\"updating\",null),t([e()],a.prototype,\"view\",void 0),a=t([s(\"esri.views.2d.layers.LayerView2D\")],a),a};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import s from\"../../../../core/Error.js\";import{WGLVVFlag as i}from\"./enums.js\";import{isNumber as r}from\"./Utils.js\";const l=e.getLogger(\"esri.views.2d.engine.webgl\");function o(e){return r(e.minDataValue)&&r(e.maxDataValue)&&null!=e.minSize&&null!=e.maxSize?i.SIZE_MINMAX_VALUE:(e.expression&&\"view.scale\"===e.expression||e.valueExpression&&\"$view.scale\"===e.valueExpression)&&Array.isArray(e.stops)?i.SIZE_SCALE_STOPS:(null!=e.field||e.expression&&\"view.scale\"!==e.expression||e.valueExpression&&\"$view.scale\"!==e.valueExpression)&&(Array.isArray(e.stops)||\"levels\"in e&&e.levels)?i.SIZE_FIELD_STOPS:(null!=e.field||e.expression&&\"view.scale\"!==e.expression||e.valueExpression&&\"$view.scale\"!==e.valueExpression)&&null!=e.valueUnit?i.SIZE_UNIT_VALUE:(l.error(new s(\"mapview-bad-type\",\"Found invalid size VisualVariable\",e)),i.NONE)}export{o as getTypeOfSizeVisualVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l,hasField as t}from\"../../../layers/support/fieldUtils.js\";async function i(i,d=i.popupTemplate){if(!e(d))return[];const o=await d.getRequiredFields(i.fields),{lastEditInfoEnabled:s}=d,{objectIdField:u,typeIdField:a,globalIdField:n,relationships:f}=i;if(o.includes(\"*\"))return[\"*\"];const r=s?await p(i):[],m=l(i.fields,[...o,...r]);return a&&m.push(a),m&&u&&t(i.fields,u)&&-1===m.indexOf(u)&&m.push(u),m&&n&&t(i.fields,n)&&-1===m.indexOf(n)&&m.push(n),f&&f.forEach((e=>{const{keyField:p}=e;m&&p&&t(i.fields,p)&&-1===m.indexOf(p)&&m.push(p)})),m}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,i as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./chunks/tslib.es6.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/accessorSupport/ensureType.js\";import{property as r}from\"./core/accessorSupport/decorators/property.js\";import{subclass as o}from\"./core/accessorSupport/decorators/subclass.js\";import\"./core/urlUtils.js\";import\"./core/uuid.js\";import\"./portal/support/resourceExtension.js\";import t from\"./Graphic.js\";var p;let s=p=class extends t{constructor(){super(...arguments),this.isAggregate=!0}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.sourceLayer&&this.sourceLayer.featureReduction;return r&&\"popupTemplate\"in r&&r.popupEnabled?r.popupTemplate:null}getObjectId(){return this.objectId}clone(){return new p({objectId:this.objectId,...this.cloneProperties()})}};e([r({type:Boolean})],s.prototype,\"isAggregate\",void 0),e([r({type:Number,json:{read:!0}})],s.prototype,\"objectId\",void 0),s=p=e([o(\"esri.AggregateGraphic\")],s);var c=s;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../../core/accessorSupport/decorators/writer.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as n}from\"../../../core/JSONSupport.js\";import{fromJSON as a}from\"../../../geometry/support/jsonUtils.js\";import{geometryTypes as p}from\"../../../geometry.js\";import l from\"../../../TimeExtent.js\";import c from\"../../../tasks/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends n{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:r,geometry:i,spatialRelationship:s,timeExtent:o,objectIds:n,units:a,distance:p}=this;return new c({geometry:t(i),objectIds:t(n),spatialRelationship:s,timeExtent:t(o),where:r,units:a,distance:p,...e})}clone(){const{where:e,geometry:r,spatialRelationship:i,hiddenIds:s,timeExtent:o,objectIds:n,units:a,distance:p}=this,l=new Set;return s.forEach((e=>l.add(e))),new d({geometry:t(r),hiddenIds:l,objectIds:t(n),spatialRelationship:i,timeExtent:t(o),where:e,units:a,distance:p})}};e([r({type:String})],h.prototype,\"where\",void 0),e([o(\"where\")],h.prototype,\"writeWhere\",null),e([r({types:p,json:{read:a,write:!0}})],h.prototype,\"geometry\",void 0),e([r({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([r({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([r({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([r({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([r({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([r({type:l,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([r({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([s(\"esri.views.layers.support.FeatureFilter\")],h);var j=h;export default j;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import s from\"./FeatureFilter.js\";var i;let c=i=class extends o{constructor(){super(...arguments),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}clone(){return new i({filter:this.filter&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};e([r({type:s,json:{write:!0}})],c.prototype,\"filter\",void 0),e([r({json:{write:!0}})],c.prototype,\"includedEffect\",void 0),e([r({json:{write:!0}})],c.prototype,\"excludedEffect\",void 0),e([r({type:Boolean,json:{write:!0}})],c.prototype,\"excludedLabelsVisible\",void 0),c=i=e([t(\"esri.views.layers.support.FeatureEffect\")],c);var l=c;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{eachAlways as l}from\"../../core/promiseUtils.js\";import{loadArcade as a}from\"../../support/arcadeOnDemand.js\";import{fixFields as n,unpackFieldNames as u,collectLabelingFields as p,collectElevationFields as m,collectFilterFields as d,collectFeatureReductionFields as f,collectFields as c,collectField as y,featureHasFields as h}from\"../../layers/support/fieldUtils.js\";import{init as F,on as w}from\"../../core/watchUtils.js\";import{combinedViewLayerTimeExtentProperty as g}from\"../../layers/support/commonProperties.js\";import x from\"../../tasks/support/Query.js\";import v from\"./support/FeatureFilter.js\";import E from\"./support/FeatureEffect.js\";import{getFetchPopupTemplate as j,getRequiredFields as b}from\"./support/popupUtils.js\";const q=r.getLogger(\"esri.views.layers.FeatureLayerView\"),R=r=>{let R=class extends r{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.effect=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){F(this,[\"layer.renderer\",\"layer.labelingInfo\",\"layer.elevationInfo.featureExpressionInfo\",\"layer.displayField\",\"filter\",\"effect\",\"layer.timeInfo\",\"layer.floorInfo\",\"timeExtent\"],(()=>this._handleRequiredFieldsChange()),!0),w(this,\"view.floors\",\"change\",(()=>this._handleRequiredFieldsChange()))}get availableFields(){const{layer:e,layer:{fields:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?n(t,[...u(t,e.outFields),...r]):n(t,r)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){q.error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},r=t(this.filter)?this.filter.createQuery(e):new x(e);return t(this.timeExtent)&&(r.timeExtent=t(r.timeExtent)?r.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),r}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}_loadArcadeModules(e){if(e.get(\"expressionInfos.length\"))return a()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:r,layer:{fields:i,objectIdField:s,renderer:o,displayField:a}}=this,n=r.featureReduction,u=new Set,h=await l([o?o.collectRequiredFields(u,i):null,p(u,r),e?m(u,r):null,t(this.filter)?d(u,r,this.filter):null,this.effect?d(u,r,this.effect.filter):null,n?f(u,r,n):null]);r.timeInfo&&this.timeExtent&&c(u,r.fields,[r.timeInfo.startField,r.timeInfo.endField]),\"feature\"===r.type&&r.floorInfo&&c(u,r.fields,[r.floorInfo.floorField]);for(const t of h)t.error&&q.error(t.error);y(u,i,s),e&&a&&y(u,i,a);const F=Array.from(u).sort();this._set(\"requiredFields\",F)}validateFetchPopupFeatures(e){const{layer:t,layer:{popupEnabled:r}}=this;if(!r)return new o(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:t});return j(this.layer,e)?void 0:new o(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:t})}async fetchClientPopupFeatures(e){const r=t(e)?e.clientGraphics:null;if(!r||0===r.length)return Promise.resolve([]);const i=[],s=[],{layer:o}=this,l=j(o,e);if(!t(l))return Promise.resolve([]);const a=await this._loadArcadeModules(l),n=a&&a.arcadeUtils.hasGeometryOperations(l),p=await this.createPopupQuery(e),m=u(o.fields,p.outFields);for(const t of r)n||!h(m,t)?s.push(t):i.push(t);return\"stream\"===o.type||0===s.length?Promise.resolve(i):(p.objectIds=s.map((e=>e.attributes[o.objectIdField])),o.queryFeatures(p).then((e=>i.concat(e.features))).catch((()=>s)))}async createPopupQuery(e){const r=this.layer,i=r.createQuery(),s=j(r,e),o=t(s)&&await this._loadArcadeModules(s),l=t(s)&&o&&o.arcadeUtils.hasGeometryOperations(s),a=!(\"point\"!==r.geometryType&&!l);return i.returnGeometry=a,i.returnZ=a,i.returnM=a,i.outFields=await b(this.layer,s),i.outSpatialReference=this.view.spatialReference,i}canResume(){return!!super.canResume()&&(!t(this.timeExtent)||!this.timeExtent.isEmpty)}};return e([i()],R.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([i({readOnly:!0})],R.prototype,\"availableFields\",null),e([i({type:E})],R.prototype,\"effect\",void 0),e([i({type:v})],R.prototype,\"filter\",void 0),e([i(g)],R.prototype,\"timeExtent\",void 0),e([i()],R.prototype,\"layer\",void 0),e([i({type:Number})],R.prototype,\"maximumNumberOfFeatures\",null),e([i({readOnly:!0,type:Boolean})],R.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([i({readOnly:!0})],R.prototype,\"requiredFields\",void 0),e([i()],R.prototype,\"suspended\",void 0),e([i()],R.prototype,\"view\",void 0),R=e([s(\"esri.views.layers.FeatureLayerView\")],R),R};export default R;export{R as FeatureLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nasync function e(e,a){if(!e)return null;switch(e.type){case\"class-breaks\":case\"simple\":case\"unique-value\":case\"dot-density\":case\"dictionary\":return new((await import(\"./tileRenderers/SymbolTileRenderer.js\")).default)(a);case\"heatmap\":return new((await import(\"./tileRenderers/HeatmapTileRenderer.js\")).default)(a)}}export{e as createOrReuseTileRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{createResolver as s,createAbortController as o,ignoreAbortErrors as i,throwIfNotAbortError as n}from\"../../../../core/promiseUtils.js\";import{EsriPromise as a}from\"../../../../core/Promise.js\";import{open as c}from\"../../../../core/workers/workers.js\";function l(e){return Array.isArray(e)}let u=class extends a{constructor(e){super(e),this._startupResolver=s(),this.isReady=!1}initialize(){this._controller=o(),this.addResolvingPromise(this._startWorker(this._controller.signal))}destroy(){this._controller.abort(),this._connection&&this._connection.close()}set tileRenderer(e){this.client.tileRenderer=e}get closed(){return this._connection.closed}async startup(e,t,r,s){await this.when();const o=this._controller.signal,i=l(r.source)?{transferList:r.source,signal:o}:void 0,n={service:r,config:t,tileInfo:e.tileInfo.toJSON(),tiles:s};await this._connection.invoke(\"startup\",n,i),this._startupResolver.resolve(),this._set(\"isReady\",!0)}async updateTiles(e){return await this._startupResolver.promise,i(this._connection.invoke(\"updateTiles\",e))}async update(e){const t={config:e};return await this._startupResolver.promise,this._connection.invoke(\"update\",t)}async applyUpdate(e){return await this._startupResolver.promise,this._connection.invoke(\"applyUpdate\",e)}async setHighlight(e){return await this._startupResolver.promise,i(this._connection.invoke(\"controller.setHighlight\",e))}async refresh(){return await this._startupResolver.promise,i(this._connection.invoke(\"controller.refresh\"))}async queryFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryFeatures\",e.toJSON(),t)}async queryObjectIds(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryObjectIds\",e.toJSON(),t)}async queryFeatureCount(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryFeatureCount\",e.toJSON(),t)}async queryExtent(e,t){return this._connection.invoke(\"controller.queryExtent\",e.toJSON(),t)}async queryLatestObservations(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryLatestObservations\",e.toJSON(),t)}async queryStatistics(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryStatistics\",e)}async getObjectId(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.getObjectId\",e)}async getDisplayId(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.getDisplayId\",e)}async getFeature(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.getFeature\",e)}async getAggregate(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.getAggregate\",e)}async getAggregateValueRanges(){return await this._startupResolver.promise,this._connection.invoke(\"controller.getAggregateValueRanges\")}async mapValidDisplayIds(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.mapValidDisplayIds\",e)}async onEdits(e){await this._startupResolver.promise;const{addedFeatures:t,deletedFeatures:r,updatedFeatures:s}=e;return i(this._connection.invoke(\"controller.onEdits\",{addedFeatures:t,deletedFeatures:r,updatedFeatures:s}))}async enableEvent(e,t){return await this._startupResolver.promise,i(this._connection.invoke(\"controller.enableEvent\",{name:e,value:t}))}async _startWorker(e){try{this._connection=await c(\"Pipeline\",{client:this.client,strategy:\"dedicated\",signal:e})}catch(t){n(t)}}};e([t()],u.prototype,\"isReady\",void 0),e([t()],u.prototype,\"client\",void 0),e([t()],u.prototype,\"tileRenderer\",null),u=e([r(\"esri.views.2d.layers.support.FeatureLayerProxy\")],u);var p=u;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import i from\"./TileKey.js\";import t from\"./TileCoverage.js\";const l=1e-6;class s{constructor(e){this._tiles=new Map,this.buffer=0,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this.buffer=e.buffer}destroy(){}clear(){this._tiles.forEach((e=>this._releaseTile(e)))}tileKeys(){const e=[];return this._tiles.forEach(((i,t)=>e.push(t))),e}update(e){const l=this.tileInfoView.getTileCoverage(e.state,this.buffer,\"closest\"),{spans:s,lodInfo:r}=l,{level:a}=r,o=[],d=[],h=new Set,n=new Set;for(const{row:t,colFrom:c,colTo:f}of s)for(let e=c;e<=f;e++){const l=i.getId(a,t,r.normalizeCol(e),r.getWorldForColumn(e)),s=this._getOrAcquireTile(o,l);h.add(l),s.isReady?s.visible=!0:n.add(s.key)}n.forEach((e=>this._addPlaceholders(h,e))),this._tiles.forEach((e=>{h.has(e.key.id)||(d.push(e.key.id),this._releaseTile(e))})),t.pool.release(l);return{hasMissingTiles:n.size>0,added:o,removed:d}}_getOrAcquireTile(e,t){if(!this._tiles.has(t)){const l=this.acquireTile(new i(t));e.push(t),this._tiles.set(t,l),l.visible=!1}return this._tiles.get(t)}_getTile(e){return this._tiles.get(e)}_releaseTile(e){this._tiles.delete(e.key.id),this.releaseTile(e)}_addPlaceholders(e,i){const t=this._addPlaceholderChildren(e,i);if(!(Math.abs(1-t)<l)){if(!this._addPlaceholderParent(e,i)){this._getTile(i.id).visible=!0}}}_addPlaceholderChildren(e,i){let t=0;return this._tiles.forEach((l=>{t+=this._addPlaceholderChild(e,l,i)})),t}_addPlaceholderChild(e,i,t){if(i.key.level<=t.level||!i.hasData||!t.contains(i.key))return 0;i.visible=!0,e.add(i.key.id);return 1/(1<<2*(i.key.level-t.level))}_addPlaceholderParent(i,t){let l=t.getParentKey(),s=0,r=null;for(;e(l);){if(i.has(l.id))return!0;const e=this._getTile(l.id);if(null!=e&&e.isReady)return e.visible=!0,i.add(e.key.id),!0;null!=e&&e.hasData&&e.patchCount>s&&(s=e.patchCount,r=e),l=l.getParentKey()}return!!r&&(r.visible=!0,i.add(r.key.id),!0)}}export{s as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/has.js\";import{clone as i}from\"../../../core/lang.js\";import{andThen as r,unwrapOr as s,isSome as a,isNone as n}from\"../../../core/maybe.js\";import o from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{flatten as d}from\"../../../core/arrayUtils.js\";import{debounce as p,isAbortError as c,eachAlwaysValues as f,after as y}from\"../../../core/promiseUtils.js\";import g from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import m from\"../../../core/Collection.js\";import _ from\"../../../Graphic.js\";import v from\"../../../AggregateGraphic.js\";import{init as R,whenFalseOnce as b}from\"../../../core/watchUtils.js\";import{isHostedAgolService as x}from\"../../../layers/support/arcgisLayerUrl.js\";import w from\"../../../tasks/support/FeatureSet.js\";import S from\"../../../tasks/support/Query.js\";import{MAX_FILTERS as F}from\"../engine/webgl/definitions.js\";import U from\"../../webgl/capabilities.js\";import{RefreshableLayerView as I}from\"../../layers/RefreshableLayerView.js\";import E from\"../../layers/LayerView.js\";import{calculateTolerance as C}from\"../../../renderers/support/clickToleranceUtils.js\";import{createQueryGeometry as j}from\"../../support/drapedUtils.js\";import{findSizeVV as O,createClusterCountSizeVariable as T,isClusterCompatibleRenderer as P,createClusterRenderer as q}from\"./support/clusterUtils.js\";import V from\"../../layers/effects/EffectList.js\";import{computePxBuffer as L}from\"./features/support/pixelBuffering.js\";import{toJSONGeometryType as N}from\"./support/util.js\";import{createSchema as H}from\"./features/schemaUtils.js\";import G from\"../../layers/support/FeatureFilter.js\";import J from\"../../layers/support/FeatureEffect.js\";import{FeatureLayerView as k}from\"../../layers/FeatureLayerView.js\";import{LayerView2DMixin as M}from\"./LayerView2D.js\";import{createOrReuseTileRenderer as A}from\"./features/tileRenderers.js\";import z from\"./support/FeatureLayerProxy.js\";import{TileManager as D}from\"../tiling/TileManager.js\";const $=2147483648,Q=1,B=e=>(e&$)>>>31===Q;function K(e){return e&&\"openPorts\"in e}const W=o.getLogger(\"esri.views.2d.layers.FeatureLayerView2D\");let X=class extends(k(I(M(E)))){constructor(){super(...arguments),this._pipelineIsUpdating=!0,this._updatingPipelineConfig=!1,this._onGoingEdits=0,this._isRefreshing=!1,this._visibilityOverrides=new Set,this._effect=null,this._highlightIds=new Map,this._lastPixelBuffer=0,this.filter=null,this.effectLists={included:new V,excluded:new V},this.doRefresh=p((async()=>{this.isUpdating()&&await b(this,\"updating\"),this._set(\"_isRefreshing\",!0),this._lockGPUUploads();try{await this._proxy.refresh()}catch(e){c(e),0}this._unlockGPUUploads(),this._set(\"_isRefreshing\",!1)})),this._doUpdate=p((async()=>{try{if(this.destroyed||!this._hasRequiredSupport(this.layer))return;this._set(\"_updatingPipelineConfig\",!0),await b(this,\"_isRefreshing\");const{effect:t,filter:i}=this;await this._updateRequiredFields();const{renderer:r}=this._getEffectiveRenderer();this._set(\"_effectiveRenderer\",r);const s=\"feature\"===this.layer.type?this.layer.historicMoment:null,n=\"feature\"===this.layer.type?this.layer.gdbVersion:null,o={renderer:this.layer.renderer,spatialReference:this.layer.spatialReference,timeExtent:this.layer.timeExtent,definitionExpression:this.layer.definitionExpression,featureReduction:this.layer.featureReduction,fields:this.layer.fields,geometryType:this.layer.geometryType,historicMoment:s,labelsVisible:this.layer.labelsVisible,labelingInfo:this.layer.labelingInfo,availableFields:this.availableFields,effect:this.effect,filter:this.filter,gdbVersion:n,pixelBuffer:0},l=N(this.layer.geometryType),h=await L(r,l,this.layer.featureReduction),u=this._createConfiguration(o,i,t);this._lastPixelBuffer=0===h?0:Math.max(h,this._lastPixelBuffer),u.schema.source.pixelBuffer=this._lastPixelBuffer;const d=this._createTileRendererHash(r);if(d!==this._tileRendererHash){await this._initTileRenderer(r);const e=this._serviceOptions;this.effects.forEach((e=>a(e)&&a(e.filter)&&e.filter.enable())),this.tileRenderer.onConfigUpdate(r);const t={added:this._tileStrategy.tileKeys(),removed:[]},i=this.layer;\"stream\"!==i.type&&K(i.source)&&(e.source=await i.source.openPorts()),await this._proxy.startup(this.view.featuresTilingScheme,u,e,t),this.hasHighlight()&&await this._proxy.setHighlight(Array.from(this._highlightIds.keys())),await this._onceTilesUpdated(),this.tileRenderer.onConfigUpdate(r)}else{const t=await this._proxy.update(u);(t.mesh||t.targets.aggregate)&&this._lockGPUUploads();try{await this._proxy.applyUpdate(t)}catch(e){c(e)||W.error(e)}(t.mesh||t.targets.aggregate)&&this._unlockGPUUploads(),this.effects.forEach((e=>a(e)&&a(e.filter)&&e.filter.enable())),this.tileRenderer.onConfigUpdate(r),this._forceAttributeTextureUpload()}this._tileRendererHash=d,this.tileRenderer.invalidateLabels(),this.requestUpdate()}catch(e){}})),this._updateHighlight=p((async()=>this._proxy.setHighlight(Array.from(this._highlightIds.keys()))))}destroy(){var e,t;null==(e=this._proxy)||e.destroy(),r(this._updateClusterSizeTask,(e=>e.remove())),null==(t=this.tileRenderer)||t.destroy()}initialize(){this.addResolvingPromise(Promise.all([this._initProxy(),this._initServiceOptions()])),this.handles.add([this.on(\"valueRangesChanged\",(e=>{this._set(\"_aggregateValueRanges\",e.valueRanges)})),R(this,\"effect\",(e=>{this.effectLists.included.effect=null==e?void 0:e.includedEffect})),R(this,\"effect\",(e=>{this.effectLists.excluded.effect=null==e?void 0:e.excludedEffect}))])}async _initProxy(){if(\"stream\"!==this.layer.type&&\"ogc-feature\"!==this.layer.type&&this.layer.isTable)throw new u(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:this.layer});this._proxy&&this._proxy.destroy();const e=this._createClientOptions();return this._set(\"_proxy\",new z({client:e})),this._proxy.when()}async _initServiceOptions(){this._set(\"_serviceOptions\",await this._createServiceOptions())}get labelsVisible(){return!this.suspended&&this.layer.labelingInfo&&this.layer.labelsVisible}get effect(){return s(this._effect,null)}set effect(e){const t=this._effect;a(t)&&a(t.filter)&&t.filter.enabled&&a(e)&&a(e.filter)&&e.filter.enable(),this._effect=e,this.notifyChange(\"effect\")}get effects(){return this.effect&&[this.effect]||[]}get queryMode(){return this._serviceOptions.type}get renderingConfigHash(){if(!this.layer)return null;const e=this.availableFields,t=this.layer,i=this.view.floors,{definitionExpression:r,renderer:s,labelingInfo:n}=t,o=\"feature\"===t.type?t.gdbVersion:void 0,l=\"feature\"===t.type&&t.historicMoment?t.historicMoment.getTime():void 0,{timeExtent:h}=this,u=\"stream\"===t.type?`${JSON.stringify(t.geometryDefinition)}${t.definitionExpression}`:null,d=JSON.stringify(this.clips),p=t.featureReduction&&t.featureReduction.toJSON();return JSON.stringify({filterHash:a(this.filter)&&this.filter.toJSON(),effectHash:a(this.effect)&&this.effect.toJSON(),streamFilter:u,gdbVersion:o,definitionExpression:r,historicMoment:l,availableFields:e,renderer:s,labelingInfo:t.labelsVisible&&n,timeExtent:h,floors:i,clipsHash:d,featureReduction:p})}get hasEffects(){return this.effectLists.included.hasEffects||this.effectLists.excluded.hasEffects}highlight(e){let t;return e instanceof _?t=[e.getObjectId()]:\"number\"==typeof e||\"string\"==typeof e?t=[e]:m.isCollection(e)?t=e.map((e=>e&&e.getAttribute(this.layer.objectIdField))).toArray():Array.isArray(e)&&e.length>0&&(t=\"number\"==typeof e[0]||\"string\"==typeof e[0]?e:e.map((e=>e&&e.getAttribute(this.layer.objectIdField)))),t&&t.length?(t=t.filter((e=>null!=e)),this._addHighlight(t),{remove:()=>this._removeHighlight(t)}):{remove:()=>{}}}hasHighlight(){return!!this._highlightIds.size}hitTest(e,t){return this._hitTest(e,t)}queryStatistics(){return this._proxy.queryStatistics()}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then((e=>{const t=w.fromJSON(e);return t.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),t}))}queryFeaturesJSON(e,t){return this._proxy.queryFeatures(this._cleanUpQuery(e),t)}queryObjectIds(e,t){return this._proxy.queryObjectIds(this._cleanUpQuery(e),t)}queryFeatureCount(e,t){return this._proxy.queryFeatureCount(this._cleanUpQuery(e),t)}queryExtent(e,t){return this._proxy.queryExtent(this._cleanUpQuery(e),t).then((e=>({count:e.count,extent:g.fromJSON(e.extent)})))}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){if(!this._tileStrategy||!this.tileRenderer)return;const{hasMissingTiles:t,added:i,removed:r}=this._tileStrategy.update(e);(i.length||r.length)&&this._proxy.updateTiles({added:i,removed:r}),t&&this.requestUpdate(),this.notifyChange(\"updating\")}attach(){this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this._tileStrategy=new D({acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme,buffer:0}),this.handles.add(R(this,\"renderingConfigHash\",(()=>this._update())),\"attach\"),\"stream\"!==this.layer.type&&this.handles.add(this.layer.on(\"edits\",(async e=>{this._set(\"_onGoingEdits\",this._onGoingEdits+1);try{const t=\"globalIdField\"in this.layer&&this.layer.globalIdField,i=e.deletedFeatures.some((e=>-1===e.objectId||!e.objectId)),r=t&&this.availableFields.includes(t);if(i&&!r)return void W.error(new u(\"mapview-apply-edits\",`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected on the map`));await this._proxy.onEdits(e)}catch(t){c(t),0}this._set(\"_onGoingEdits\",Math.max(0,this._onGoingEdits-1))})),\"attach\")}detach(){this.container.removeAllChildren(),this.handles.remove(\"attach\"),this._updatingPipelineConfig=!1,this.tileRenderer&&(this.tileRenderer.uninstall(this.container),this.tileRenderer=null),this._tileStrategy&&(this._tileStrategy.destroy(),this._tileStrategy=null),this._tileRendererHash=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}async fetchPopupFeatures(e,t){if(a(t)&&t.clientGraphics.length){const e=t.clientGraphics[0];if(e instanceof v)return[e]}const i=this.validateFetchPopupFeatures(t);if(i)throw i;if(a(t)&&0===t.clientGraphics.length)return[];const r=this.fetchClientPopupFeatures(t);if(!e)return r;const s=this._fetchServicePopupFeatures(e,t);return f([r,s]).then(d)}async _fetchServicePopupFeatures(e,t){if(\"stream\"===this.layer.type||\"ogc-feature\"===this.layer.type)return[];const i=await this.createPopupQuery(t),{layer:r}=this,{renderer:s}=r,n=a(t)?t.event:null,o=C({renderer:s,event:n});i.geometry=this.createFetchPopupFeaturesQueryGeometry(e,o);const l=new Set,{objectIdField:h}=r,u=a(t)?t.clientGraphics:null;if(u)for(const a of u)l.add(a.attributes[h]);return r.queryFeatures(i).then((e=>e.features.filter((e=>!l.has(e.attributes[h])))))}createFetchPopupFeaturesQueryGeometry(e,t){return j(e,t,this.view)}isUpdating(){return null!=this.layer.renderer&&(null!=this._updatingRequiredFieldsPromise||null==this.tileRenderer||!this._proxy||!this._proxy.isReady||this._pipelineIsUpdating||this._updatingPipelineConfig||this.tileRenderer.updating||this._onGoingEdits>0)}_createClientOptions(){return{setUpdating:e=>{this._set(\"_pipelineIsUpdating\",e)},emitEvent:e=>{this.emit(e.name,e.event)}}}async _detectQueryMode(e){if(\"path\"in e&&x(e.path)&&\"feature\"===this.layer.type&&\"point\"===this.layer.geometryType&&!this.layer.capabilities.operations.supportsEditing&&t(\"featurelayer-snapshot-enabled\"))try{const e=await this.layer.queryFeatureCount();if(e<=t(\"featurelayer-snapshot-point-min-threshold\"))return{mode:\"snapshot\",featureCount:e};const i=t(\"featurelayer-snapshot-point-max-threshold\"),r=t(\"featurelayer-snapshot-point-coverage\"),s=this.view.extent,a=this.layer.fullExtent,n=null==a?void 0:a.clone().intersection(s),o=(null==n?void 0:n.width)*(null==n?void 0:n.height),l=(null==a?void 0:a.width)*(null==a?void 0:a.height),h=0===l?0:o/l;if(e<=i&&h>=r)return{mode:\"snapshot\",featureCount:e}}catch(i){W.warn(\"mapview-feature-layer\",\"Encountered an error when querying for featureCount\",{error:i})}return{mode:\"on-demand\"}}async _createServiceOptions(){const e=this.layer;if(\"stream\"===e.type)return null;const{capabilities:t,objectIdField:r}=e,s=e.fields.map((e=>e.toJSON())),a=e.fullExtent&&e.fullExtent.toJSON(),n=N(e.geometryType),o=e.timeInfo&&e.timeInfo.toJSON()||null,l=e.spatialReference?e.spatialReference.toJSON():null,h=\"feature\"===e.type?e.customParameters:null,u=\"feature\"===e.type?e.globalIdField:null;let d;\"ogc-feature\"===e.type?d=e.source.getFeatureDefinition():K(e.source)?d=await e.source.openPorts():e.parsedUrl&&(d=i(e.parsedUrl),\"dynamicDataSource\"in e&&e.dynamicDataSource&&(d.query={layer:JSON.stringify({source:e.dynamicDataSource})}));const{mode:p,featureCount:c}=await this._detectQueryMode(d);return{type:p,featureCount:c,globalIdField:u,maxRecordCount:t.query.maxRecordCount,tileMaxRecordCount:t.query.tileMaxRecordCount,capabilities:t,fields:s,fullExtent:a,geometryType:n,objectIdField:r,source:d,timeInfo:o,spatialReference:l,customParameters:h}}async _createMemoryServiceOptions(e){const t=await e.openPorts();return{...this._createServiceOptions(),type:\"memory\",source:t}}_cleanUpQuery(e){const t=S.from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}_createUpdateClusterSizeTask(e,t){return this.watch(\"_aggregateValueRanges\",(async i=>{this._updateClusterEffectiveRendererSizeVariable(e,t,i),this._updatingPipelineConfig||this.tileRenderer.onConfigUpdate(this._effectiveRenderer)}))}async _updateClusterEffectiveRendererSizeVariable(e,t,i){if(e.dynamicClusterSize&&\"visualVariables\"in e&&e.visualVariables){const r=O(e.visualVariables);if(a(r)&&\"cluster_count\"===r.field){const s=e.visualVariables.indexOf(r);e.visualVariables[s]=T(t,i);const a=e.clone();a.dynamicClusterSize=!0,this._set(\"_effectiveRenderer\",a)}}}_getEffectiveRenderer(){const e=this.layer.renderer,t=this.layer.featureReduction;if(a(this._updateClusterSizeTask)&&(this._updateClusterSizeTask.remove(),this._updateClusterSizeTask=null),t&&\"cluster\"===t.type&&P(e)){const i=t,s=[],a=q(s,e,i,this._aggregateValueRanges);return r(this._updateClusterSizeTask,(e=>e.remove())),this._updateClusterSizeTask=this._createUpdateClusterSizeTask(a,i),{renderer:a,aggregateFields:s,featureReduction:t}}return{renderer:e,aggregateFields:[],featureReduction:null}}_acquireTile(e){const t=this.tileRenderer.acquireTile(e);return t.once(\"attach\",(()=>{this.requestUpdate()})),t}_releaseTile(e){this.tileRenderer.releaseTile(e)}async _initTileRenderer(e){const t=await A(e,{layerView:this,tileInfoView:this.view.featuresTilingScheme,layer:this.layer});return this.tileRenderer&&(this._tileStrategy.clear(),this.tileRenderer.uninstall(this.container),this.tileRenderer.destroy(),this.tileRenderer=null),this.destroyed?null:(this._proxy.tileRenderer=t,this._set(\"tileRenderer\",t),this.tileRenderer.install(this.container),this.tileRenderer.onConfigUpdate(e),this.requestUpdate(),this.tileRenderer)}_createTileRendererHash(e){return`${\"heatmap\"===e.type?\"heatmap\":\"symbol\"}.${\"dot-density\"===e.type}`}_createFeatureDataHash(e,t,i){const r=e.getAttributeHash(),s=JSON.stringify(t),n=a(i)&&JSON.stringify(i.filter),o=JSON.stringify(this.timeExtent);let l=\"\";return this._visibilityOverrides.forEach((e=>l+=e)),`${r}.${s}.${n}.${o}.${l}`}get hasFilter(){const e=!!(\"floorInfo\"in this.layer&&this.layer.floorInfo&&this.view.floors&&this.view.floors.length);return!!this.filter||e||!!this._visibilityOverrides.size||!!this.timeExtent}_injectOverrides(e){const t=a(e)?e.timeExtent:null,i=a(this.timeExtent)&&a(t)?this.timeExtent.intersection(t):this.timeExtent||t;let r=null;const s=\"floorInfo\"in this.layer&&this.layer.floorInfo;if(s){const t=a(e)&&e.where;r=this._addFloorFilterClause(t)}if(!this._visibilityOverrides.size&&!i&&!s)return e;const n=a(e)&&e.clone()||new G;return n.hiddenIds=this._visibilityOverrides,n.timeExtent=i,r&&(n.where=r),n}_addFloorFilterClause(e){const t=this.layer;let i=e||\"\";if(\"floorInfo\"in t&&t.floorInfo){var r;let e=this.view.floors;if(!e||!e.length)return i;null!=(r=t.floorInfo.viewAllLevelIds)&&r.length&&(e=t.floorInfo.viewAllLevelIds);const s=e.filter((e=>\"\"!==e)).map((e=>\"'\"+e+\"'\"));s.push(\"''\");const n=t.floorInfo.floorField;let o=\"(\"+n+\" IN ({ids}) OR \"+n+\" IS NULL)\";if(o=o.replace(\"{ids}\",s.join(\", \")),a(i)&&i.includes(n)){let e=new RegExp(\"AND \\\\(\"+n+\".*NULL\\\\)\",\"g\");i=i.replace(e,\"\"),e=new RegExp(\"\\\\(\"+n+\".*NULL\\\\)\",\"g\"),i=i.replace(e,\"\"),i=i.replace(/\\s+/g,\" \").trim()}i=\"\"!==i?\"(\"+i+\") AND \"+o:o}return\"\"!==i?i:null}_createConfiguration(e,t,i){const r=\"feature\"===this.layer.type&&this.layer.historicMoment?this.layer.historicMoment.getTime():void 0,s=\"feature\"===this.layer.type?this.layer.gdbVersion:void 0,o=new Array(F),l=this._injectOverrides(t);o[0]=a(l)?l.toJSON():null,o[1]=a(i)&&i.filter?i.filter.toJSON():null;const h=H(e);if(n(h))return null;const u=U();return{definitionExpression:this.layer.definitionExpression,availableFields:this.availableFields,gdbVersion:s,historicMoment:r,devicePixelRatio:window.devicePixelRatio||1,filters:o,schema:h,supportsTextureFloat:u.supportsTextureFloat,maxTextureSize:u.maxTextureSize}}_hasRequiredSupport(e){var t;return!(\"dot-density\"===(null==(t=e.renderer)?void 0:t.type)&&!U().supportsTextureFloat)||(W.error(new u(\"webgl-missing-extension\",\"Missing WebGL extension OES_Texture_Float which is required for DotDensity\")),!1)}_onceTilesUpdated(){return this.requestUpdate(),b(this,\"_pipelineIsUpdating\",!1)}_lockGPUUploads(){this.tileRenderer&&this.tileRenderer.lockGPUUploads()}_unlockGPUUploads(){this.tileRenderer&&this.tileRenderer.unlockGPUUploads()}_forceAttributeTextureUpload(){this.tileRenderer&&this.tileRenderer.forceAttributeTextureUpload()}_update(){this.view.timeline.begin(`${this.layer.title} (FeatureLayer) Initial Pipeline Config`);const e=this._doUpdate();this._updatingPromise=e;const t=()=>{e===this._updatingPromise&&this._set(\"_updatingPipelineConfig\",!1),this.view&&this.view.timeline.end(`${this.layer.title} (FeatureLayer) Initial Pipeline Config`)};e.then(t).catch((e=>{c(e)||W.error(e),t()}))}_addHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t);this._highlightIds.set(t,e+1)}else this._highlightIds.set(t,1);this._updateHighlight().catch((e=>{c(e)||W.error(e)}))}_removeHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t)-1;0===e?this._highlightIds.delete(t):this._highlightIds.set(t,e)}this._updateHighlight().catch((e=>{c(e)||W.error(e)}))}_createHittestResult(e){return e.layer=this.layer,e.sourceLayer=this.layer,a(e.geometry)&&(e.geometry.spatialReference=this.view.spatialReference),e}async _hitTest(e,t){if(this.suspended||!this.tileRenderer)return null;const i=await this.tileRenderer.hitTest(e,t);if(0===i.length)return await y(1),null;const s=i[0];if(!B(s)){const e=await this._proxy.getFeature(s);return r(e,(e=>this._createHittestResult(_.fromJSON(e))))}const o=await this._proxy.getAggregate(s);if(n(o))return null;if(a(o.referenceId)){const e=await this._proxy.getFeature(o.referenceId);return r(e,(e=>this._createHittestResult(_.fromJSON(e))))}return this._createHittestResult(v.fromJSON(o))}};e([l()],X.prototype,\"_serviceOptions\",void 0),e([l()],X.prototype,\"_proxy\",void 0),e([l()],X.prototype,\"_pipelineIsUpdating\",void 0),e([l()],X.prototype,\"_updatingPipelineConfig\",void 0),e([l()],X.prototype,\"_effectiveRenderer\",void 0),e([l()],X.prototype,\"_aggregateValueRanges\",void 0),e([l()],X.prototype,\"_onGoingEdits\",void 0),e([l()],X.prototype,\"_isRefreshing\",void 0),e([l()],X.prototype,\"labelsVisible\",null),e([l({type:G})],X.prototype,\"filter\",void 0),e([l({type:J})],X.prototype,\"effect\",null),e([l({readOnly:!0})],X.prototype,\"effects\",null),e([l({readOnly:!0})],X.prototype,\"queryMode\",null),e([l()],X.prototype,\"renderingConfigHash\",null),e([l()],X.prototype,\"tileRenderer\",void 0),e([l()],X.prototype,\"updating\",void 0),X=e([h(\"esri.views.2d.layers.FeatureLayerView2D\")],X);var Y=X;export default Y;\n"],"sourceRoot":""}