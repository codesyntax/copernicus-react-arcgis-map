(this["webpackJsonpcopernicus-react-arcgis-map"]=this["webpackJsonpcopernicus-react-arcgis-map"]||[]).push([[35],{578:function(e,i,t){"use strict";t.r(i);var s=t(2),r=t(3),a=t(29),l=t(4),n=t(5),o=t(0),c=(t(12),t(7)),b=(t(11),t(14),t(59)),y=t(1),v=t(6),u=t(25),h=(t(9),t(15),t(16),t(293)),d=t(351),p=t(135),f=t(398),O=t(399),j=t(158),_=t(189),k=t(232),m=t(188),w=t(231),L=function(e){Object(l.a)(t,e);var i=Object(n.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=i.call(this,e))._visibilityHandles={},r.fullExtent=void 0,r.operationalLayerType="GroupLayer",r.spatialReference=void 0,r.type="group",r._visibilityWatcher=r._visibilityWatcher.bind(Object(a.a)(r)),r}return Object(r.a)(t,[{key:"initialize",value:function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}},{key:"_writeLayers",value:function(e,i,t,s){var r=[];if(!e)return r;e.forEach((function(e){var i=Object(d.a)(e,s.webmap?s.webmap.getLayerJSONFromResourceInfo(e):null,s);Object(c.i)(i)&&i.layerType&&r.push(i)})),i.layers=r}},{key:"portalItem",set:function(e){this._set("portalItem",e)}},{key:"visibilityMode",set:function(e){var i=this._get("visibilityMode")!==e;this._set("visibilityMode",e),i&&this._enforceVisibility(e,this.visible)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return Object(h.a)(this,(function(i){i(e.layers)}))}},{key:"layerAdded",value:function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}},{key:"layerRemoved",value:function(e){var i=this._visibilityHandles[e.uid];i&&(i.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}},{key:"_turnOffOtherLayers",value:function(e){this.layers.forEach((function(i){i!==e&&(i.visible=!1)}))}},{key:"_enforceVisibility",value:function(e,i){if(Object(b.a)(this).initialized){var t=this.layers,s=t.find((function(e){return e.visible}));switch(e){case"exclusive":t.length&&!s&&((s=t.getItemAt(0)).visible=!0),this._turnOffOtherLayers(s);break;case"inherited":t.forEach((function(e){e.visible=i}))}}}},{key:"_visibleWatcher",value:function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(i){i.visible=e}))}},{key:"_visibilityWatcher",value:function(e,i,t,s){var r=s;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case"inherited":r.visible=this.visible}}},{key:"_isAnyLayerVisible",value:function(){return this.layers.some((function(e){return e.visible}))}}]),t}(Object(k.a)(Object(w.a)(Object(_.a)(Object(m.a)(Object(O.a)(Object(f.a)(Object(j.a)(p.a))))))));Object(o.a)([Object(y.b)()],L.prototype,"fullExtent",void 0),Object(o.a)([Object(y.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],L.prototype,"layers",void 0),Object(o.a)([Object(u.a)("layers")],L.prototype,"_writeLayers",null),Object(o.a)([Object(y.b)({type:["GroupLayer"]})],L.prototype,"operationalLayerType",void 0),Object(o.a)([Object(y.b)({json:{origins:{"web-document":{read:!1,write:!1}}}})],L.prototype,"portalItem",null),Object(o.a)([Object(y.b)()],L.prototype,"spatialReference",void 0),Object(o.a)([Object(y.b)({json:{read:!1},readOnly:!0,value:"group"})],L.prototype,"type",void 0),Object(o.a)([Object(y.b)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],L.prototype,"visibilityMode",null);var g=L=Object(o.a)([Object(v.a)("esri.layers.GroupLayer")],L);i.default=g}}]);
//# sourceMappingURL=35.12b2cc0b.chunk.js.map