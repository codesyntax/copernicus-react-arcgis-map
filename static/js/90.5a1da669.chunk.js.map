{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/GPMessage.js","../node_modules/@arcgis/core/rest/geoprocessor/GPOptions.js","../node_modules/@arcgis/core/layers/support/MapImage.js","../node_modules/@arcgis/core/tasks/support/DataFile.js","../node_modules/@arcgis/core/tasks/support/LinearUnit.js","../node_modules/@arcgis/core/tasks/support/ParameterValue.js","../node_modules/@arcgis/core/tasks/support/RasterData.js","../node_modules/@arcgis/core/rest/geoprocessor/utils.js","../node_modules/@arcgis/core/rest/geoprocessor/execute.js","../node_modules/@arcgis/core/tasks/support/JobInfo.js","../node_modules/@arcgis/core/rest/geoprocessor/submitJob.js","../node_modules/@arcgis/core/tasks/Geoprocessor.js","../node_modules/@arcgis/core/tasks/support/fileFormat.js","../node_modules/@arcgis/core/tasks/support/layoutTemplate.js","../node_modules/@arcgis/core/tasks/support/printTaskUtils.js","../node_modules/@arcgis/core/tasks/support/PrintTemplate.js","../node_modules/@arcgis/core/tasks/PrintTask.js"],"names":["p","s","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","i","r","description","type","t","e","String","json","write","prototype","read","a","o","c","arguments","outSpatialReference","processExtent","processSpatialReference","returnFeatureCollection","returnM","returnZ","nonNullable","from","l","extent","height","href","opacity","rotation","scale","visible","width","itemId","url","source","target","esriMeters","esriFeet","esriKilometers","esriMiles","esriNauticalMiles","esriYards","ignoreUnknown","distance","units","u","GPBoolean","GPDataFile","GPDate","GPDouble","GPFeatureRecordSetLayer","GPField","GPLinearUnit","GPLong","GPRasterData","GPRasterDataLayer","GPRecordSet","GPString","dataType","value","format","m","n","then","f","G","v","S","path","slice","k","wkid","y","D","J","P","context","outSR","processSR","M","query","features","length","forEach","push","geometry","fromJSON","Date","mapImage","map","Array","isArray","JSON","stringify","item","getTime","data","results","messages","j","esriJobCancelled","esriJobCancelling","esriJobDeleted","esriJobDeleting","esriJobTimedOut","esriJobExecuting","esriJobFailed","esriJobNew","esriJobSubmitted","esriJobSucceeded","esriJobWaiting","h","jobId","jobStatus","requestOptions","sourceUrl","_timer","this","_clearTimer","clearInterval","returnType","b","toJSON","indexOf","substring","default","interval","signal","statusCallback","Promise","setInterval","checkJobStatus","d","_jobs","Map","destroy","clear","get","cancelJob","fetchResultData","fetchResultImage","fetchResultMapImageLayer","set","waitForJobCompletion","PDF","PNG32","PNG8","JPG","GIF","EPS","SVG","SVGZ","g","bind","MAP_ONLY","graphic","renderer","symbol","visualVariables","getVisualVariablesForType","w","V","T","style","shape","size","outline","color","Math","round","angle","canvas","getImageData","x","allLayerViews","items","filter","suspended","parent","includes","isVisibleAtScale","declaredClass","L","I","F","A","z","attributionVisible","exportOptions","dpi","forceFeatureAttributes","label","layout","layoutOptions","outScale","scalePreserved","showLabels","$","Feet","Kilometers","Meters","Miles","q","B","esriExecutionTypeSynchronous","esriExecutionTypeAsynchronous","K","returnGeometry","Q","contentType","endsWith","H","_ssExtent","_legendLayers","_legendLayerNameMap","_gpServerUrl","_cimVersion","_is11xService","_gpMetadata","updateDelay","executionType","lastIndexOf","resolve","cimVersion","_getGpPrintParams","mode","_geoprocessor","getResultData","submitJob","execute","layerView","printTemplate","view","_","layer","loaded","_createBingMapsLayerJSON","_createCSVLayerJSON","_createFeatureLayerJSON","O","_createGeoJSONLayer","_createGraphicsLayerJSON","N","_createImageryLayerJSON","_createKMLLayerJSON","_createMapImageLayerJSON","_createMapNotesLayerJSON","_createOpenStreetMapLayerJSON","_createStreamLayerJSON","_createTileLayerJSON","_createVectorTileLayerJSON","_createWebTileLayerJSON","E","_createWMSLayerJSON","R","_createWMTSLayerJSON","_createScreenshotJSON","id","title","minScale","maxScale","graphics","_createFeatureCollectionJSON","culture","key","_getGraphics","origin","popupInfo","layerType","labelsVisible","layerDefinition","name","geometryType","drawingInfo","featureSet","labelingInfo","fields","collectRequiredFields","Set","getItemAt","hasOwnProperty","popupTemplate","valueExpression","hasVisualVariables","getSymbolAsync","C","_convertSvgToPictureMarkerSymbolJson","text","attributes","fromExtent","every","_convertSvgRenderer","featureCollection","layers","featureReduction","parseFloat","field","getField","_setURLandToken","maxSize","minSize","bandIds","compressionQuality","interpolation","mosaicRule","definitionExpression","exportImageServiceParameters","renderingRule","combineRendererWithRenderingRule","allVisibleMapImages","substr","imageData","allVisiblePoints","allVisiblePolylines","allVisiblePolygons","subLayerIds","sublayers","toExportImageJSON","unshift","visibleLayers","capabilities","exportMap","supportsDynamicLayers","featureCollections","ignoreBackground","clone","area","toMap","ymin","xmax","_normalize","takeScreenshot","dataUrl","customParameters","serviceUrl","styleUrl","findCredential","token","additionalTokens","urlTemplate","replace","credits","copyright","subDomains","customLayerParameters","transparentBackground","imageTransparency","version","activeLayer","imageFormat","styleId","tileMatrixSet","tileMatrixSetId","_canvas","document","createElement","getContext","Path2D","closePath","fillStyle","fill","clearRect","max","translate","lineWidth","lineJoin","strokeStyle","stroke","ceil","putImageData","responseType","drawImage","toDataURL","xoffset","yoffset","defaultSymbol","queryFeatures","spatialReference","_createOperationalLayers","operationalLayers","isWrappable","mapOptions","showAttribution","background","template","W","toLowerCase","outputSize","scalebarUnit","titleText","authorText","copyrightText","customTextElements","scaleBarOptions","metricUnit","metricLabel","nonMetricUnit","nonMetricLabel","legendLayers","layerId","_getPrintDefinition","RegExp","font","family","test","Object","assign","legendOptions","Web_Map_as_JSON","Format","Layout_Template","extraParameters","readOnly","X"],"mappings":"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","file":"static/js/90.5a1da669.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{ensureType as r}from\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Accessor.js\";import p from\"../../geometry/SpatialReference.js\";import i from\"../../geometry/Extent.js\";let c=class extends s{constructor(){super(...arguments),this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}};e([o({type:p})],c.prototype,\"outSpatialReference\",void 0),e([o({type:i})],c.prototype,\"processExtent\",void 0),e([o({type:p})],c.prototype,\"processSpatialReference\",void 0),e([o({nonNullable:!0})],c.prototype,\"returnFeatureCollection\",void 0),e([o({nonNullable:!0})],c.prototype,\"returnM\",void 0),e([o({nonNullable:!0})],c.prototype,\"returnZ\",void 0),c=e([t(\"esri/rest/geoprocessor/GPOptions\")],c),c.from=r(c);var l=c;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import s from\"../../geometry/Extent.js\";let p=class extends e{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};o([t({type:s})],p.prototype,\"extent\",void 0),o([t()],p.prototype,\"height\",void 0),o([t()],p.prototype,\"href\",void 0),o([t()],p.prototype,\"opacity\",void 0),o([t()],p.prototype,\"rotation\",void 0),o([t()],p.prototype,\"scale\",void 0),o([t()],p.prototype,\"visible\",void 0),o([t()],p.prototype,\"width\",void 0),p=o([r(\"esri.layer.support.MapImage\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";let e=class extends s{constructor(r){super(r),this.itemId=null,this.url=null}};r([o({type:String,json:{read:{source:\"itemID\"},write:{target:\"itemID\"}}})],e.prototype,\"itemId\",void 0),r([o({type:String,json:{write:!0}})],e.prototype,\"url\",void 0),e=r([t(\"esri.tasks.support.DataFile\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as e}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const i=new e({esriMeters:\"meters\",esriFeet:\"feet\",esriKilometers:\"kilometers\",esriMiles:\"miles\",esriNauticalMiles:\"nautical-miles\",esriYards:\"yards\"},{ignoreUnknown:!1});let p=class extends t{constructor(r){super(r),this.distance=0,this.units=null}};r([s({json:{write:!0}})],p.prototype,\"distance\",void 0),r([s({json:{read:i.read,write:i.write}})],p.prototype,\"units\",void 0),p=r([o(\"esri/tasks/support/LinearUnit\")],p);var c=p;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as a}from\"../../core/jsonMap.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";const u=new a({GPBoolean:\"boolean\",GPDataFile:\"data-file\",GPDate:\"date\",GPDouble:\"double\",GPFeatureRecordSetLayer:\"feature-record-set-layer\",GPField:\"field\",GPLinearUnit:\"linear-unit\",GPLong:\"long\",GPRasterData:\"raster-data\",GPRasterDataLayer:\"raster-data-layer\",GPRecordSet:\"record-set\",GPString:\"string\",\"GPMultiValue:GPBoolean\":\"multi-value\",\"GPMultiValue:GPDataFile\":\"multi-value\",\"GPMultiValue:GPDate\":\"multi-value\",\"GPMultiValue:GPDouble\":\"multi-value\",\"GPMultiValue:GPFeatureRecordSetLayer\":\"multi-value\",\"GPMultiValue:GPField\":\"multi-value\",\"GPMultiValue:GPLinearUnit\":\"multi-value\",\"GPMultiValue:GPLong\":\"multi-value\",\"GPMultiValue:GPRasterData\":\"multi-value\",\"GPMultiValue:GPRasterDataLayer\":\"multi-value\",\"GPMultiValue:GPRecordSet\":\"multi-value\",\"GPMultiValue:GPString\":\"multi-value\"});let o=class extends l{constructor(e){super(e),this.dataType=null,this.value=null}};e([t({json:{read:u.read,write:u.write}})],o.prototype,\"dataType\",void 0),e([t()],o.prototype,\"value\",void 0),o=e([r(\"esri.tasks.support.ParameterValue\")],o);var i=o;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";let e=class extends s{constructor(r){super(r),this.format=null,this.itemId=null,this.url=null}};r([o()],e.prototype,\"format\",void 0),r([o({json:{read:{source:\"itemID\"},write:{target:\"itemID\"}}})],e.prototype,\"itemId\",void 0),r([o()],e.prototype,\"url\",void 0),e=r([t(\"esri/tasks/support/RasterData\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"../../request.js\";import{normalizeCentralMeridian as a}from\"../../geometry/support/normalizeUtils.js\";import t from\"../../layers/support/Field.js\";import r from\"../../tasks/support/FeatureSet.js\";import{parseUrl as o,encode as u}from\"../utils.js\";import s from\"../../layers/support/MapImage.js\";import l from\"../../tasks/support/DataFile.js\";import n from\"../../tasks/support/LinearUnit.js\";import i from\"../../tasks/support/ParameterValue.js\";import c from\"../../tasks/support/RasterData.js\";async function m(t,r,u,s,l){const n={},i={},c=[];return p(s,c,n),a(c).then((a=>{const{outSpatialReference:c,processExtent:m,processSpatialReference:p,returnFeatureCollection:f,returnM:G,returnZ:v}=u,{path:S}=o(t);for(const e in n){const t=n[e];i[e]=a.slice(t[0],t[1])}const k=c?c.wkid||c:null,y=p?p.wkid||p:null,D=\"execute\"===r?{returnFeatureCollection:f||void 0,returnM:G||void 0,returnZ:v||void 0}:null,J=P({...m?{context:{extent:m,outSR:k,processSR:y}}:{\"env:outSR\":k,\"env:processSR\":y},...s,...D,f:\"json\"},null,i),M={...l,query:J};return e(`${S}/${r}`,M)}))}function p(e,a,t){for(const o in e){const u=e[o];if(u&&\"object\"==typeof u&&u instanceof r){const{features:e}=u;t[o]=[a.length,a.length+e.length],e.forEach((e=>{a.push(e.geometry)}))}}}function f(e){const a=e.dataType,o=i.fromJSON(e);switch(a){case\"GPBoolean\":case\"GPDouble\":case\"GPLong\":case\"GPString\":return o;case\"GPDate\":o.value=new Date(o.value);break;case\"GPDataFile\":o.value=l.fromJSON(o.value);break;case\"GPLinearUnit\":o.value=n.fromJSON(o.value);break;case\"GPFeatureRecordSetLayer\":case\"GPRecordSet\":{const a=e.value.url;o.value=a?l.fromJSON(o.value):r.fromJSON(o.value);break}case\"GPRasterData\":case\"GPRasterDataLayer\":{const a=e.value.mapImage;o.value=a?s.fromJSON(a):c.fromJSON(o.value);break}case\"GPField\":o.value=t.fromJSON(o.value);break;case\"GPMultiValue:GPBoolean\":case\"GPMultiValue:GPDouble\":case\"GPMultiValue:GPLong\":case\"GPMultiValue:GPString\":return o;case\"GPMultiValue:GPDate\":{const e=o.value;o.value=e.map((e=>new Date(e)));break}case\"GPMultiValue:GPDataFile\":o.value=o.value.map((e=>l.fromJSON(e)));break;case\"GPMultiValue:GPLinearUnit\":o.value=o.value.map((e=>n.fromJSON(e)));break;case\"GPMultiValue:GPFeatureRecordSetLayer\":case\"GPMultiValue:GPRecordSet\":o.value=o.value.map((e=>r.fromJSON(e)));break;case\"GPMultiValue:GPRasterData\":case\"GPMultiValue:GPRasterDataLayer\":o.value=o.value.map((e=>e?s.fromJSON(e):c.fromJSON(o.value)));break;case\"GPMultiValue:GPField\":o.value=o.value.map((e=>t.fromJSON(e)))}return o}function P(e,a,t){for(const r in e){const a=e[r];Array.isArray(a)?e[r]=JSON.stringify(a.map((e=>P({item:e},!0).item))):a instanceof Date&&(e[r]=a.getTime())}return u(e,a,t)}export{p as collectGeometries,m as constructRequest,f as decode,P as gpEncode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport s from\"../../tasks/support/GPMessage.js\";import t from\"./GPOptions.js\";import{constructRequest as r,decode as e}from\"./utils.js\";async function o(o,m,a,p){return a=t.from(a),r(o,\"execute\",a,m,p).then((t=>{const r=t.data.results||[],o=t.data.messages||[];return{results:r.map(e),messages:o.map((t=>s.fromJSON(t)))}}))}export{o as execute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{onAbort as o,createAbortError as i}from\"../../core/promiseUtils.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import c from\"../../request.js\";import{parseUrl as n}from\"../../rest/utils.js\";import u from\"./GPMessage.js\";import l from\"../../rest/geoprocessor/GPOptions.js\";import{gpEncode as p,decode as b}from\"../../rest/geoprocessor/utils.js\";var j;const m=new s({esriJobCancelled:\"job-cancelled\",esriJobCancelling:\"job-cancelling\",esriJobDeleted:\"job-deleted\",esriJobDeleting:\"job-deleting\",esriJobTimedOut:\"job-timed-out\",esriJobExecuting:\"job-executing\",esriJobFailed:\"job-failed\",esriJobNew:\"job-new\",esriJobSubmitted:\"job-submitted\",esriJobSucceeded:\"job-succeeded\",esriJobWaiting:\"job-waiting\"});let h=j=class extends a{constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null,this.requestOptions=null,this.sourceUrl=null,this._timer=null}cancelJob(e){const{jobId:t,sourceUrl:s}=this,{path:r}=n(s),o={...this.requestOptions,...e,query:{f:\"json\"}};this._clearTimer();return c(`${r}/jobs/${t}/cancel`,o).then((e=>{const t=j.fromJSON(e.data);return this.messages=t.messages,this.jobStatus=t.jobStatus,this}))}destroy(){clearInterval(this._timer)}checkJobStatus(e){const{path:t}=n(this.sourceUrl),s={...this.requestOptions,...e,query:{f:\"json\"}},r=`${t}/jobs/${this.jobId}`;return c(r,s).then((({data:e})=>{const t=j.fromJSON(e);return this.messages=t.messages,this.jobStatus=t.jobStatus,this}))}fetchResultData(e,t,s){t=l.from(t);const{returnFeatureCollection:r,returnM:o,returnZ:i,outSpatialReference:a}=t,{path:u}=n(this.sourceUrl),j=p({returnFeatureCollection:r||void 0,returnM:o||void 0,returnZ:i||void 0,outSR:a,returnType:\"data\",f:\"json\"},null),m={...this.requestOptions,...s,query:j},h=`${u}/jobs/${this.jobId}/results/${e}`;return c(h,m).then((e=>b(e.data)))}fetchResultImage(e,t,s){const{path:r}=n(this.sourceUrl),o={...t.toJSON(),f:\"json\"},i=p(o),a={...this.requestOptions,...s,query:i},u=`${r}/jobs/${this.jobId}/results/${e}`;return c(u,a).then((e=>b(e.data)))}async fetchResultMapImageLayer(){const{path:e}=n(this.sourceUrl),t=e.indexOf(\"/GPServer/\"),s=`${e.substring(0,t)}/MapServer/jobs/${this.jobId}`;return new(0,(await import(\"../../layers/MapImageLayer.js\")).default)({url:s})}async waitForJobCompletion(e={}){const{interval:t=1e3,signal:s,statusCallback:r}=e;return new Promise(((e,a)=>{o(s,(()=>{this._clearTimer(),a(i())})),this._clearTimer();const c=setInterval((()=>{this._timer||a(i()),this.checkJobStatus(this.requestOptions).then((t=>{const{jobStatus:s}=t;switch(this.jobStatus=s,s){case\"job-succeeded\":this._clearTimer(),e(this);break;case\"job-submitted\":case\"job-executing\":case\"job-waiting\":case\"job-new\":r&&r(this);break;case\"job-cancelled\":case\"job-cancelling\":case\"job-deleted\":case\"job-deleting\":case\"job-timed-out\":case\"job-failed\":this._clearTimer(),a(this)}}))}),t);this._timer=c}))}_clearTimer(){this._timer&&(clearInterval(this._timer),this._timer=null)}};e([t()],h.prototype,\"jobId\",void 0),e([t({json:{read:m.read}})],h.prototype,\"jobStatus\",void 0),e([t({type:[u]})],h.prototype,\"messages\",void 0),e([t()],h.prototype,\"requestOptions\",void 0),e([t({json:{write:!0}})],h.prototype,\"sourceUrl\",void 0),h=j=e([r(\"esri.tasks.support.JobInfo\")],h);var d=h;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"./GPOptions.js\";import{constructRequest as r}from\"./utils.js\";import t from\"../../tasks/support/JobInfo.js\";async function s(s,m,n,f){return n=o.from(n),r(s,\"submitJob\",n,m,f).then((o=>{const r=t.fromJSON(o.data);return r.sourceUrl=s,r}))}export{s as submitJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"../geometry/SpatialReference.js\";import s from\"../geometry/Extent.js\";import i from\"./Task.js\";import n from\"../rest/geoprocessor/GPOptions.js\";import{execute as u}from\"../rest/geoprocessor/execute.js\";import{submitJob as p}from\"../rest/geoprocessor/submitJob.js\";let c=class extends i{constructor(e){super(e),this._jobs=new Map,this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}destroy(){this._jobs.forEach((e=>e.destroy())),this._jobs.clear()}cancelJob(e,t){const r=this._jobs.get(e),o={...this.requestOptions,...t};return r.cancelJob(o)}checkJobStatus(e,t){const r=this._jobs.get(e),o={...this.requestOptions,...t};return r.checkJobStatus(o)}execute(e,t){const r=new n({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,returnM:this.returnM,returnZ:this.returnZ}),o={...this.requestOptions,...t};return u(this.url,e,r,o)}getResultData(e,t,r){const o=this._jobs.get(e),{returnFeatureCollection:s,returnM:i,returnZ:u,outSpatialReference:p}=this,c=new n({returnFeatureCollection:s,returnM:i,returnZ:u,outSpatialReference:p,url:this.url}),a={...this.requestOptions,...r};return o.fetchResultData(t,c,a)}getResultImage(e,t,r,o){const s=this._jobs.get(e),i={...this.requestOptions,...o};return s.fetchResultImage(t,r,i)}async getResultMapImageLayer(e){return this._jobs.get(e).fetchResultMapImageLayer()}submitJob(e,t){const r=new n({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,returnM:this.returnM,returnZ:this.returnZ}),o={...this.requestOptions,...t};return p(this.url,e,r,o).then((e=>(e.sourceUrl=this.url,this._jobs.set(e.jobId,e),e)))}waitForJobCompletion(e,t={}){return this._jobs.get(e).waitForJobCompletion(t)}};e([t({type:o})],c.prototype,\"outSpatialReference\",void 0),e([t({type:s})],c.prototype,\"processExtent\",void 0),e([t({type:o})],c.prototype,\"processSpatialReference\",void 0),e([t({nonNullable:!0})],c.prototype,\"returnFeatureCollection\",void 0),e([t({nonNullable:!0})],c.prototype,\"returnM\",void 0),e([t({nonNullable:!0})],c.prototype,\"returnZ\",void 0),c=e([r(\"esri/tasks/Geoprocessor\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{JSONMap as o}from\"../../core/jsonMap.js\";const p=new o({PDF:\"pdf\",PNG32:\"png32\",PNG8:\"png8\",JPG:\"jpg\",GIF:\"gif\",EPS:\"eps\",SVG:\"svg\",SVGZ:\"svgz\"}),n=p.fromJSON.bind(p),g=p.toJSON.bind(p);export{n as fromJSON,g as toJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{JSONMap as a}from\"../../core/jsonMap.js\";const t=new a({MAP_ONLY:\"map-only\",\"A3 Landscape\":\"a3-landscape\",\"A3 Portrait\":\"a3-portrait\",\"A4 Landscape\":\"a4-landscape\",\"A4 Portrait\":\"a4-portrait\",\"Letter ANSI A Landscape\":\"letter-ansi-a-landscape\",\"Letter ANSI A Portrait\":\"letter-ansi-a-portrait\",\"Tabloid ANSI B Landscape\":\"tabloid-ansi-b-landscape\",\"Tabloid ANSI B Portrait\":\"tabloid-ansi-b-portrait\"}),r=t.fromJSON.bind(t),o=t.toJSON.bind(t);export{r as fromJSON,o as toJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{px2pt as e}from\"../../core/screenUtils.js\";import{getSize as r,getColor as t,getOpacity as n,getRotationAngle as i}from\"../../renderers/visualVariables/support/visualVariableUtils.js\";const o=\"simple-marker\",a=\"picture-marker\",u=\"simple-line\",l=\"simple-fill\",s=\"shield-label-symbol\",y=\"text\";function f(f,p){const{graphic:c,renderer:m,symbol:g}=p,d=g.type;if(d===y||d===s||!(\"visualVariables\"in m)||!m.visualVariables)return;const b=m.getVisualVariablesForType(\"size\"),h=m.getVisualVariablesForType(\"color\"),w=m.getVisualVariablesForType(\"opacity\"),V=m.getVisualVariablesForType(\"rotation\"),T=b&&b[0],v=h&&h[0],G=w&&w[0],k=V&&V[0];if(T){const t=d===o?g.style:null,n=r(T,c,{shape:t});null!=n&&(d===o?f.size=e(n):d===a?(f.width=e(n),f.height=e(n)):d===u?f.width=e(n):f.outline&&(f.outline.width=e(n)))}if(v){const e=t(v,c);(e&&d===o||d===u||d===l)&&(f.color=e?e.toJSON():void 0)}if(G){const e=n(G,c);null!=e&&f.color&&(f.color[3]=Math.round(255*e))}k&&(f.angle=-i(m,c))}function p(){return{layerDefinition:{name:\"multipointLayer\",geometryType:\"esriGeometryMultipoint\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryMultipoint\",features:[]}}}function c(){return{layerDefinition:{name:\"polygonLayer\",geometryType:\"esriGeometryPolygon\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPolygon\",features:[]}}}function m(){return{layerDefinition:{name:\"pointLayer\",geometryType:\"esriGeometryPoint\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPoint\",features:[]}}}function g(){return{layerDefinition:{name:\"polylineLayer\",geometryType:\"esriGeometryPolyline\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPolyline\",features:[]}}}function d(e,r=15){const t=e.canvas.width,n=e.canvas.height,i=e.getImageData(0,0,t,n).data;let o,a,u,l,s,y;e:for(a=n;a--;)for(o=t;o--;)if(i[4*(t*a+o)+3]>r){y=a;break e}if(!y)return null;e:for(o=t;o--;)for(a=y+1;a--;)if(i[4*(t*a+o)+3]>r){s=o;break e}e:for(o=0;o<=s;++o)for(a=y+1;a--;)if(i[4*(t*a+o)+3]>r){u=o;break e}e:for(a=0;a<=y;++a)for(o=u;o<=s;++o)if(i[4*(t*a+o)+3]>r){l=a;break e}return{x:u,y:l,width:s-u,height:y-l}}function b(e,r){const t=e.allLayerViews.items;if(r===e.scale)return t.filter((e=>!e.suspended));const n=new Array;for(const i of t)k(i.parent)&&!n.includes(i.parent)||!i.visible||r&&\"isVisibleAtScale\"in i&&!i.isVisibleAtScale(r)||n.push(i);return n}function h(e){return e&&\"bing-maps\"===e.type}function w(e){return e&&\"csv\"===e.type}function V(e){return e&&\"feature\"===e.type}function T(e){return e&&\"geojson\"===e.type}function v(e){return e&&\"graphics\"===e.type}function G(e){return e&&\"group\"===e.type}function k(e){return e&&\"esri.views.2d.layers.GroupLayerView2D\"===e.declaredClass}function S(e){return e&&\"imagery\"===e.type}function D(e){return e&&\"kml\"===e.type}function L(e){return e&&\"map-image\"===e.type}function P(e){return e&&\"map-notes\"===e.type}function I(e){return e&&\"open-street-map\"===e.type}function F(e){return e&&\"stream\"===e.type}function j(e){return e&&\"tile\"===e.type}function x(e){return e&&\"vector-tile\"===e.type}function A(e){return e&&\"web-tile\"===e.type}function M(e){return e&&\"wms\"===e.type}function z(e){return e&&\"wmts\"===e.type}export{f as applyVisualVariables,p as createMultipointLayer,m as createPointLayer,c as createPolygonLayer,g as createPolylineLayer,d as getContextBoundingBox,b as getVisibleLayerViews,h as isBingMapsLayer,w as isCSVLayer,V as isFeatureLayer,T as isGeoJSONLayer,v as isGraphicsLayer,G as isGroupLayer,S as isImageryLayer,D as isKMLLayer,L as isMapImageLayer,P as isMapNotesLayer,I as isOpenStreetMapLayer,F as isStreamLayer,j as isTileLayer,x as isVectorTileLayer,M as isWMSLayer,z as isWMTSLayer,A as isWebTileLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../../core/Accessor.js\";let s=class extends e{constructor(o){super(o),this.attributionVisible=!0,this.exportOptions={width:800,height:1100,dpi:96},this.forceFeatureAttributes=!1,this.format=\"png32\",this.label=null,this.layout=\"map-only\",this.layoutOptions=null,this.outScale=0,this.scalePreserved=!0,this.showLabels=!0}};o([t()],s.prototype,\"attributionVisible\",void 0),o([t()],s.prototype,\"exportOptions\",void 0),o([t()],s.prototype,\"forceFeatureAttributes\",void 0),o([t()],s.prototype,\"format\",void 0),o([t()],s.prototype,\"label\",void 0),o([t()],s.prototype,\"layout\",void 0),o([t()],s.prototype,\"layoutOptions\",void 0),o([t()],s.prototype,\"outScale\",void 0),o([t()],s.prototype,\"scalePreserved\",void 0),o([t()],s.prototype,\"showLabels\",void 0),s=o([r(\"esri.tasks.support.PrintTemplate\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as t}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{JSONMap as i}from\"../core/jsonMap.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"../core/Error.js\";import{normalize as n,dataComponents as o}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import l from\"../geometry/Polygon.js\";import{createScreenPoint as c,pt2px as u,px2pt as y}from\"../core/screenUtils.js\";import{id as p}from\"../kernel.js\";import m from\"../request.js\";import{getSizeRangeAtScale as d}from\"../renderers/visualVariables/support/visualVariableUtils.js\";import h from\"./support/Query.js\";import f from\"./Task.js\";import g from\"./Geoprocessor.js\";import{toJSON as S}from\"./support/fileFormat.js\";import{toJSON as b}from\"./support/layoutTemplate.js\";import{getVisibleLayerViews as _,isGroupLayer as w,isBingMapsLayer as v,isCSVLayer as L,isFeatureLayer as x,isGeoJSONLayer as O,isGraphicsLayer as J,isImageryLayer as N,isKMLLayer as I,isMapImageLayer as D,isMapNotesLayer as M,isOpenStreetMapLayer as T,isStreamLayer as V,isTileLayer as F,isVectorTileLayer as P,isWebTileLayer as k,isWMSLayer as E,isWMTSLayer as R,applyVisualVariables as C,getContextBoundingBox as j,createPolygonLayer as U,createPolylineLayer as A,createPointLayer as z,createMultipointLayer as G}from\"./support/printTaskUtils.js\";import W from\"./support/PrintTemplate.js\";const $={Feet:\"ft\",Kilometers:\"km\",Meters:\"m\",Miles:\"mi\"},q=new i({esriFeet:\"Feet\",esriKilometers:\"Kilometers\",esriMeters:\"Meters\",esriMiles:\"Miles\"}),B=new i({esriExecutionTypeSynchronous:\"sync\",esriExecutionTypeAsynchronous:\"async\"}),K=new h({returnGeometry:!0});function Q(e){return e&&(e.path||\"image/svg+xml\"===e.contentType||e.url&&e.url.endsWith(\".svg\"))}let H=class extends f{constructor(...e){super(...e),this._ssExtent=null,this._legendLayers=[],this._legendLayerNameMap={},this._gpServerUrl=null,this._cimVersion=null,this._is11xService=!1,this._gpMetadata=null,this.updateDelay=1e3}get _geoprocessor(){return new g({url:this.url})}get mode(){return this._gpMetadata&&this._gpMetadata.executionType?B.fromJSON(this._gpMetadata.executionType):\"sync\"}execute(e,t){let r=this.url;const i=r.lastIndexOf(\"/GPServer/\");return i>0&&(r=r.slice(0,i+9)),Promise.resolve().then((()=>this._gpServerUrl===r?{data:this._gpMetadata}:(this._gpServerUrl=r,m(r,{query:{f:\"json\"}})))).then((t=>(this._gpMetadata=t.data,this._cimVersion=this._gpMetadata.cimVersion,this._is11xService=!!this._cimVersion,this._getGpPrintParams(e)))).then((e=>{const r=e=>\"sync\"===this.mode?e.results&&e.results[0]&&e.results[0].value:this._geoprocessor.getResultData(e.jobId,\"Output_File\",t).then((e=>e.value));return\"async\"===this.mode?this._geoprocessor.submitJob(e,t).then((e=>this._geoprocessor.waitForJobCompletion(e.jobId,{interval:this.updateDelay}).then(r))):this._geoprocessor.execute(e,t).then(r)}))}async _createOperationalLayers(e,t){const r=[],i={layerView:null,printTemplate:t,view:e};let a=0;t.scalePreserved&&(a=t.outScale||e.scale);const s=_(e,a);for(const n of s){const e=n.layer;if(!e.loaded||w(e))continue;let t;i.layerView=n,t=v(e)?this._createBingMapsLayerJSON(e):L(e)?await this._createCSVLayerJSON(e,i):x(e)?await this._createFeatureLayerJSON(e,i):O(e)?await this._createGeoJSONLayer(e,i):J(e)?await this._createGraphicsLayerJSON(e,i):N(e)?this._createImageryLayerJSON(e):I(e)?await this._createKMLLayerJSON(e,i):D(e)?this._createMapImageLayerJSON(e,i):M(e)?await this._createMapNotesLayerJSON(i):T(e)?this._createOpenStreetMapLayerJSON():V(e)?await this._createStreamLayerJSON(e,i):F(e)?this._createTileLayerJSON(e):P(e)?await this._createVectorTileLayerJSON(e,i):k(e)?this._createWebTileLayerJSON(e):E(e)?this._createWMSLayerJSON(e):R(e)?this._createWMTSLayerJSON(e):await this._createScreenshotJSON(e,i),t&&(Array.isArray(t)?r.push(...t):(t.id=e.id,t.title=this._legendLayerNameMap[e.id]||e.title,t.opacity=e.opacity,t.minScale=e.minScale||0,t.maxScale=e.maxScale||0,r.push(t)))}if(a&&r.forEach((e=>{e.minScale=0,e.maxScale=0})),e.graphics&&e.graphics.length){const i=await this._createFeatureCollectionJSON(null,e.graphics,t);i&&r.push(i)}return r}_createBingMapsLayerJSON(e){return{culture:e.culture,key:e.key,type:\"BingMaps\"+(\"aerial\"===e.style?\"Aerial\":\"hybrid\"===e.style?\"Hybrid\":\"Road\")}}async _createCSVLayerJSON(e,{layerView:t,printTemplate:r}){let i;if(this._legendLayers&&this._legendLayers.push({id:e.id}),!this._is11xService){const i=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,i,r)}return i={type:\"CSV\"},e.write(i,{origin:\"web-map\"}),delete i.popupInfo,delete i.layerType,i.showLabels=r.showLabels&&e.labelsVisible,i}async _createFeatureCollectionJSON(e,t,r){let i;const a=U(),s=A(),n=z(),o=G(),c=z();if(c.layerDefinition.name=\"textLayer\",delete c.layerDefinition.drawingInfo,e){if(\"esri.layers.FeatureLayer\"===e.declaredClass||\"esri.layers.StreamLayer\"===e.declaredClass?a.layerDefinition.name=s.layerDefinition.name=n.layerDefinition.name=o.layerDefinition.name=this._legendLayerNameMap[e.id]||e.get(\"arcgisProps.title\")||e.title:\"esri.layers.GraphicsLayer\"===e.declaredClass&&(t=e.graphics.items),e.renderer){const t=e.renderer.toJSON();a.layerDefinition.drawingInfo.renderer=t,s.layerDefinition.drawingInfo.renderer=t,n.layerDefinition.drawingInfo.renderer=t,o.layerDefinition.drawingInfo.renderer=t}if(r.showLabels&&e.labelsVisible&&\"function\"==typeof e.write){var u,y;const t=null==(u=e.write({},{origin:\"web-map\"}).layerDefinition)||null==(y=u.drawingInfo)?void 0:y.labelingInfo;t&&(i=!0,a.layerDefinition.drawingInfo.labelingInfo=t,s.layerDefinition.drawingInfo.labelingInfo=t,n.layerDefinition.drawingInfo.labelingInfo=t,o.layerDefinition.drawingInfo.labelingInfo=t)}}let p;null!=e&&e.renderer||i||(delete a.layerDefinition.drawingInfo,delete s.layerDefinition.drawingInfo,delete n.layerDefinition.drawingInfo,delete o.layerDefinition.drawingInfo);const m=e&&e.fields,d=e&&e.renderer;if(m&&d&&\"function\"==typeof d.collectRequiredFields){const e=new Set;await d.collectRequiredFields(e,m),p=Array.from(e)}if(m){const e=m.map((e=>e.toJSON()));a.layerDefinition.fields=e,s.layerDefinition.fields=e,n.layerDefinition.fields=e,o.layerDefinition.fields=e}const h=t&&t.length;let f;for(let S=0;S<h;S++){const i=t[S]||t.getItemAt(S);if(!1===i.visible||!i.geometry)continue;if(f=i.toJSON(),f.hasOwnProperty(\"popupTemplate\")&&delete f.popupTemplate,f.geometry&&f.geometry.z&&delete f.geometry.z,f.symbol&&f.symbol.outline&&\"esriCLS\"===f.symbol.outline.type&&!this._is11xService)continue;!this._is11xService&&f.symbol&&f.symbol.outline&&f.symbol.outline.color&&f.symbol.outline.color[3]&&(f.symbol.outline.color[3]=255);const u=e&&e.renderer&&(\"valueExpression\"in e.renderer&&e.renderer.valueExpression||\"hasVisualVariables\"in e.renderer&&e.renderer.hasVisualVariables());if(!f.symbol&&e&&e.renderer&&u&&!this._is11xService){const t=e.renderer,r=await t.getSymbolAsync(i);if(!r)continue;f.symbol=r.toJSON(),\"hasVisualVariables\"in t&&t.hasVisualVariables()&&C(f.symbol,{renderer:t,graphic:i,symbol:r})}if(f.symbol&&(f.symbol.angle||delete f.symbol.angle,Q(f.symbol)?f.symbol=await this._convertSvgToPictureMarkerSymbolJson(f.symbol):f.symbol.text&&delete f.attributes),(!r||!r.forceFeatureAttributes)&&p&&p.length){const e={};p.forEach((t=>{f.attributes&&f.attributes.hasOwnProperty(t)&&(e[t]=f.attributes[t])})),f.attributes=e}\"polygon\"===i.geometry.type?a.featureSet.features.push(f):\"polyline\"===i.geometry.type?s.featureSet.features.push(f):\"point\"===i.geometry.type?f.symbol&&f.symbol.text?c.featureSet.features.push(f):n.featureSet.features.push(f):\"multipoint\"===i.geometry.type?o.featureSet.features.push(f):\"extent\"===i.geometry.type&&(f.geometry=l.fromExtent(i.geometry).toJSON(),a.featureSet.features.push(f))}const g=[a,s,o,n,c].filter((e=>e.featureSet.features.length>0));for(const l of g){const e=l.featureSet.features.every((e=>e.symbol));!e||r&&r.forceFeatureAttributes||l.featureSet.features.forEach((e=>{delete e.attributes})),e&&delete l.layerDefinition.drawingInfo,l.layerDefinition.drawingInfo&&l.layerDefinition.drawingInfo.renderer&&await this._convertSvgRenderer(l.layerDefinition.drawingInfo.renderer)}return g.length?{featureCollection:{layers:g},showLabels:i}:null}async _createFeatureLayerJSON(e,t){var r,i;let a;this._legendLayers&&this._legendLayers.push({id:e.id});const s=e.renderer;if(e.featureReduction||s&&\"dot-density\"===s.type&&(!this._is11xService||parseFloat(this._cimVersion)<2.6))return this._createScreenshotJSON(e,t);const{layerView:n,printTemplate:o,view:l}=t,c=s&&(\"valueExpression\"in s&&s.valueExpression||\"hasVisualVariables\"in s&&s.hasVisualVariables()),u=\"feature-layer\"!==(null==(r=e.source)?void 0:r.type)&&\"ogc-feature\"!==(null==(i=e.source)?void 0:i.type);if(!this._is11xService&&c||e.featureReduction||u||!s||\"field\"in s&&null!=s.field&&(\"string\"!=typeof s.field||!e.getField(s.field))){const t=await this._getGraphics(n);a=await this._createFeatureCollectionJSON(e,t,o)}else{var y,p;if(a={id:(m=e.write()).id,title:m.title,opacity:m.opacity,minScale:m.minScale,maxScale:m.maxScale,url:m.url,layerDefinition:m.layerDefinition},a.showLabels=o.showLabels&&e.labelsVisible,this._setURLandToken(a,e),null!=(y=a.layerDefinition)&&null!=(p=y.drawingInfo)&&p.renderer&&(delete a.layerDefinition.minScale,delete a.layerDefinition.maxScale,await this._convertSvgRenderer(a.layerDefinition.drawingInfo.renderer),\"visualVariables\"in s&&s.visualVariables&&s.visualVariables[0])){const e=s.visualVariables[0];if(\"size\"===e.type&&e.maxSize&&\"number\"!=typeof e.maxSize&&e.minSize&&\"number\"!=typeof e.minSize){const t=d(e,l.scale);a.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=t.minSize,a.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=t.maxSize}}}var m;return a}async _createGeoJSONLayer(e,{layerView:t,printTemplate:r}){this._legendLayers&&this._legendLayers.push({id:e.id});const i=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,i,r)}async _createGraphicsLayerJSON(e,{printTemplate:t}){return this._createFeatureCollectionJSON(e,null,t)}_createImageryLayerJSON(e){this._legendLayers&&this._legendLayers.push({id:e.id});const t={bandIds:e.bandIds,compressionQuality:e.compressionQuality,format:e.format,interpolation:e.interpolation};if((e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(this._is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{const r=e.exportImageServiceParameters.combineRendererWithRenderingRule();r&&(t.renderingRule=r.toJSON())}return this._setURLandToken(t,e),t}async _createKMLLayerJSON(e,t){const r=t.printTemplate;if(this._is11xService){const t={type:\"kml\"};return e.write(t,{origin:\"web-map\"}),delete t.layerType,t.url=n(e.url),t}{const i=[],a=t.layerView;a.allVisibleMapImages.forEach(((t,r)=>{const a={id:`${e.id}_image${r}`,type:\"image\",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:t.extent};\"data:image/png;base64,\"===t.href.substr(0,22)?a.imageData=t.href.substr(22):a.url=t.href,i.push(a)}));const s=[...a.allVisiblePoints.items,...a.allVisiblePolylines.items,...a.allVisiblePolygons.items],n={id:e.id,...await this._createFeatureCollectionJSON(null,s,r)};return i.push(n),i}}_createMapImageLayerJSON(e,{view:t}){let r;const i={id:e.id,subLayerIds:[]};let a=[];const s=t.scale,n=e=>{const t=0===s,r=0===e.minScale||s<=e.minScale,o=0===e.maxScale||s>=e.maxScale;if(e.visible&&(t||r&&o))if(e.sublayers)e.sublayers.forEach(n);else{const t=e.toExportImageJSON(),r={id:e.id,name:e.title,layerDefinition:{drawingInfo:t.drawingInfo,definitionExpression:t.definitionExpression,source:t.source}};a.unshift(r),i.subLayerIds.push(e.id)}};return e.sublayers&&e.sublayers.forEach(n),a.length&&(a=a.map((({id:e,name:t,layerDefinition:r})=>({id:e,name:t,layerDefinition:r}))),r={layers:a,visibleLayers:e.capabilities.exportMap.supportsDynamicLayers?void 0:i.subLayerIds},this._setURLandToken(r,e),this._legendLayers.push(i)),r}async _createMapNotesLayerJSON({layerView:e,printTemplate:r}){const i=[],a=e.layer;if(t(a.featureCollections))for(const t of a.featureCollections){const e=await this._createFeatureCollectionJSON(t,t.source,r);e&&i.push(...e.featureCollection.layers)}else if(t(a.sublayers))for(const t of a.sublayers){const e=await this._createFeatureCollectionJSON(null,t.graphics,r);e&&i.push(...e.featureCollection.layers)}return{featureCollection:{layers:i}}}_createOpenStreetMapLayerJSON(){return{type:\"OpenStreetMap\"}}async _createScreenshotJSON(e,{printTemplate:t,view:r}){const i={type:\"image\"},a={format:\"png\",ignoreBackground:!0,layers:[e],rotation:0},s=this._ssExtent||r.extent.clone();let n=96,l=!0,u=!0;if(t.exportOptions){const e=t.exportOptions;e.dpi>0&&(n=e.dpi),e.width>0&&(l=e.width%2==r.width%2),e.height>0&&(u=e.height%2==r.height%2)}if(\"map-only\"===t.layout&&t.scalePreserved&&(!t.outScale||t.outScale===r.scale)&&96===n&&(!l||!u)&&(a.area={x:0,y:0,width:r.width,height:r.height},l||(a.area.width-=1),u||(a.area.height-=1),!this._ssExtent)){const e=r.toMap(c(a.area.width,a.area.height));s.ymin=e.y,s.xmax=e.x,this._ssExtent=s}i.extent=s.clone()._normalize(!0).toJSON();const y=await r.takeScreenshot(a),p=o(y.dataUrl);return i.imageData=p.data,i}async _createStreamLayerJSON(e,{layerView:t,printTemplate:r}){this._legendLayers&&this._legendLayers.push({id:e.id});const i=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,i,r)}_createTileLayerJSON(e){const t={customParameters:e.customParameters};return this._setURLandToken(t,e),t}async _createVectorTileLayerJSON(e,t){if(this._is11xService&&e.serviceUrl&&e.styleUrl){const t=p&&p.findCredential(e.styleUrl),r=p&&p.findCredential(e.serviceUrl);if(!t&&!r||\"2.1.0\"!==this._cimVersion){const i={type:\"VectorTileLayer\"};return i.styleUrl=n(e.styleUrl),t&&(i.token=t.token),r&&r.token!==i.token&&(i.additionalTokens=[{url:e.serviceUrl,token:r.token}]),i}}return this._createScreenshotJSON(e,t)}_createWebTileLayerJSON(e){const t={type:\"WebTiledLayer\",urlTemplate:e.urlTemplate.replace(/\\${/g,\"{\"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(t.subDomains=e.subDomains),t}_createWMSLayerJSON(e){let t;const r=[],i=e=>{e.visible&&(e.sublayers?e.sublayers.forEach(i):e.name&&r.unshift(e.name))};return e.sublayers&&e.sublayers.forEach(i),r.length&&(t={type:\"wms\",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:r,url:n(e.url),version:e.version}),t}_createWMTSLayerJSON(e){const t=e.activeLayer;return{type:\"wmts\",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:t.imageFormat,layer:t.id,style:t.styleId,tileMatrixSet:t.tileMatrixSetId,url:n(e.url)}}_setURLandToken(e,t){var r;if(!t.url)return;e.url=n(e.url||t.url);const i=null==(r=p)?void 0:r.findCredential(t.url);i&&(e.token=i.token)}async _convertSvgToPictureMarkerSymbolJson(e){this._canvas||(this._canvas=document.createElement(\"canvas\"));const t=1024;this._canvas.width=t,this._canvas.height=t;const r=this._canvas.getContext(\"2d\");let i,a;if(e.path){var s;const n=new Path2D(e.path);n.closePath(),r.fillStyle=Array.isArray(e.color)?`rgba(${e.color[0]},${e.color[1]},${e.color[2]},${e.color[3]/255})`:\"rgb(0,0,0)\",r.fill(n);const o=j(r);if(!o)return null;r.clearRect(0,0,t,t);const l=u(e.size)/Math.max(o.width,o.height);r.scale(l,l);const c=t/l,y=c/2-o.width/2-o.x,p=c/2-o.height/2-o.y;if(r.translate(y,p),Array.isArray(e.color)&&r.fill(n),null!=(s=e.outline)&&s.width&&Array.isArray(e.outline.color)){const t=e.outline;r.lineWidth=u(t.width)/l,r.lineJoin=\"round\",r.strokeStyle=`rgba(${t.color[0]},${t.color[1]},${t.color[2]},${t.color[3]/255})`,r.stroke(n),o.width+=r.lineWidth,o.height+=r.lineWidth}o.width*=l,o.height*=l;const m=r.getImageData(t/2-o.width/2,t/2-o.height/2,Math.ceil(o.width),Math.ceil(o.height));i=m.width,a=m.height,r.canvas.width=i,r.canvas.height=a,r.putImageData(m,0,0)}else{const t=\"image/svg+xml\"===e.contentType?\"data:image/svg+xml;base64,\"+e.imageData:e.url,s=(await m(t,{responseType:\"image\"})).data;i=u(e.width),a=u(e.height),r.canvas.width=i,r.canvas.height=a,r.drawImage(s,0,0,r.canvas.width,r.canvas.height)}return{type:\"esriPMS\",imageData:r.canvas.toDataURL(\"image/png\").substr(22),angle:e.angle,contentType:\"image/png\",height:y(a),width:y(i),xoffset:e.xoffset,yoffset:e.yoffset}}async _convertSvgRenderer(e){const t=e.type;if(\"simple\"===t&&Q(e.symbol))e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol);else if(\"uniqueValue\"===t||\"classBreaks\"===t){Q(e.defaultSymbol)&&(e.defaultSymbol=await this._convertSvgToPictureMarkerSymbolJson(e.defaultSymbol));const r=e[\"uniqueValue\"===t?\"uniqueValueInfos\":\"classBreakInfos\"];if(r)for(const e of r)Q(e.symbol)&&(e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol))}}_getGraphics(e){return e.queryFeatures(K).then((e=>e.features))}async _getPrintDefinition(e,t){const r=e.view;let i=r.spatialReference;const a={operationalLayers:await this._createOperationalLayers(r,t)};let s=this._ssExtent||e.extent||r.extent;return i&&i.isWrappable&&(s=s.clone()._normalize(!0),i=s.spatialReference),a.mapOptions={extent:s&&s.toJSON(),spatialReference:i&&i.toJSON(),showAttribution:t.attributionVisible},this._ssExtent=null,r.background&&(a.background=r.background.toJSON()),r.rotation&&(a.mapOptions.rotation=-r.rotation),t.scalePreserved&&(a.mapOptions.scale=t.outScale||r.scale),a}async _getGpPrintParams(e){const t=e.template||new W;null==t.showLabels&&(t.showLabels=!0);const r=t.exportOptions;let i;const a=b(t.layout);if(r){if(i={dpi:r.dpi},\"map_only\"===a.toLowerCase()||\"\"===a){const e=r.width,t=r.height;i.outputSize=[e,t]}}const n=t.layoutOptions;let o;if(n){let e,t;\"Miles\"===n.scalebarUnit||\"Kilometers\"===n.scalebarUnit?(e=\"Kilometers\",t=\"Miles\"):\"Meters\"!==n.scalebarUnit&&\"Feet\"!==n.scalebarUnit||(e=\"Meters\",t=\"Feet\"),o={titleText:n.titleText,authorText:n.authorText,copyrightText:n.copyrightText,customTextElements:n.customTextElements,scaleBarOptions:{metricUnit:q.toJSON(e),metricLabel:$[e],nonMetricUnit:q.toJSON(t),nonMetricLabel:$[t]}}}let l=null;n&&n.legendLayers&&(l=n.legendLayers.map((e=>{this._legendLayerNameMap[e.layerId]=e.title;const t={id:e.layerId};return e.subLayerIds&&(t.subLayerIds=e.subLayerIds),t})));const c=await this._getPrintDefinition(e,t);if(c.operationalLayers){const e=new RegExp(\"[\\\\u4E00-\\\\u9FFF\\\\u0E00-\\\\u0E7F\\\\u0900-\\\\u097F\\\\u3040-\\\\u309F\\\\u30A0-\\\\u30FF\\\\u31F0-\\\\u31FF]\"),t=/[\\u0600-\\u06FF]/,r=r=>{const i=r.text,a=r.font,s=a&&a.family&&a.family.toLowerCase();i&&a&&(\"arial\"===s||\"arial unicode ms\"===s)&&(a.family=e.test(i)?\"Arial Unicode MS\":\"Arial\",\"normal\"!==a.style&&t.test(i)&&(a.family=\"Arial Unicode MS\"))},i=()=>{throw new s(\"print-task:cim-symbol-unsupported\",\"CIMSymbol is not supported by a print service published from ArcMap\")};c.operationalLayers.forEach((e=>{var t,a,s;null!=(t=e.featureCollection)&&t.layers?e.featureCollection.layers.forEach((e=>{var t,a,s,n;if(null!=(t=e.layerDefinition)&&null!=(a=t.drawingInfo)&&null!=(s=a.renderer)&&s.symbol){const t=e.layerDefinition.drawingInfo.renderer;\"esriTS\"===t.symbol.type?r(t.symbol):\"CIMSymbolReference\"!==t.symbol.type||this._is11xService||i()}null!=(n=e.featureSet)&&n.features&&e.featureSet.features.forEach((e=>{e.symbol&&(\"esriTS\"===e.symbol.type?r(e.symbol):\"CIMSymbolReference\"!==e.symbol.type||this._is11xService||i())}))})):!this._is11xService&&null!=(a=e.layerDefinition)&&null!=(s=a.drawingInfo)&&s.renderer&&JSON.stringify(e.layerDefinition.drawingInfo.renderer).includes('\"type\":\"CIMSymbolReference\"')&&i()}))}e.outSpatialReference&&(c.mapOptions.spatialReference=e.outSpatialReference.toJSON()),Object.assign(c,{exportOptions:i,layoutOptions:o||{}}),Object.assign(c.layoutOptions,{legendOptions:{operationalLayers:null!=l?l:this._legendLayers.slice()}}),this._legendLayers.length=0;const u={Web_Map_as_JSON:JSON.stringify(c),Format:S(t.format),Layout_Template:a};return e.extraParameters&&Object.assign(u,e.extraParameters),u}};e([r()],H.prototype,\"_geoprocessor\",null),e([r()],H.prototype,\"_gpMetadata\",void 0),e([r({readOnly:!0})],H.prototype,\"mode\",null),e([r()],H.prototype,\"updateDelay\",void 0),H=e([a(\"esri.tasks.PrintTask\")],H);var X=H;export default X;\n"],"sourceRoot":""}