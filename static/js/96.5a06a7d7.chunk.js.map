{"version":3,"sources":["../node_modules/@arcgis/core/arcade/functions/featuresetstats.js"],"names":["l","t","r","e","o","m","length","i","n","s","c","a","toArray","u","load","then","d","f","create","getFieldsIndex","calculateStatistic","abortSignal","getVariables","name","push","evaluateIdentifier","parameters","mode","functions","stdev","standardFunctionAsync","variance","average","mean","sum","min","max","count","Error"],"mappings":"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","file":"static/js/96.5a06a7d7.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{resolve as n,all as t,reject as r}from\"../../core/promiseUtils.js\";import{p as e,z as u,h as i,b as o,o as a,C as c}from\"../../chunks/languageUtils.js\";import{calculateStat as s}from\"./fieldStats.js\";import{WhereClause as f}from\"../../core/sql/WhereClause.js\";function l(t,r,e,o,l,m){if(1===o.length){if(i(o[0]))return n(s(t,o[0],c(o[1],-1)));if(a(o[0]))return n(s(t,o[0].toArray(),c(o[1],-1)))}else if(2===o.length){if(i(o[0]))return n(s(t,o[0],c(o[1],-1)));if(a(o[0]))return n(s(t,o[0].toArray(),c(o[1],-1)));if(u(o[0]))return o[0].load().then((n=>d(f.create(o[1],n.getFieldsIndex()),m,l).then((n=>o[0].calculateStatistic(t,n,c(o[2],1e3),r.abortSignal)))))}else if(3===o.length&&u(o[0]))return o[0].load().then((n=>d(f.create(o[1],n.getFieldsIndex()),m,l).then((n=>o[0].calculateStatistic(t,n,c(o[2],1e3),r.abortSignal)))));return n(s(t,o,-1))}function d(e,u,i){try{const r=e.getVariables();if(r.length>0){const n=[];for(let t=0;t<r.length;t++){const e={name:r[t]};n.push(u.evaluateIdentifier(i,e))}return t(n).then((n=>{const t={};for(let e=0;e<r.length;e++)t[r[e]]=n[e];return e.parameters=t,e}))}return n(e)}catch(o){return r(o)}}function m(n){\"async\"===n.mode&&(n.functions.stdev=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"stdev\",r,e,u,t,n)}))},n.functions.variance=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"variance\",r,e,u,t,n)}))},n.functions.average=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"mean\",r,e,u,t,n)}))},n.functions.mean=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"mean\",r,e,u,t,n)}))},n.functions.sum=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"sum\",r,e,u,t,n)}))},n.functions.min=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"min\",r,e,u,t,n)}))},n.functions.max=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"max\",r,e,u,t,n)}))},n.functions.count=function(t,r){return n.standardFunctionAsync(t,r,(function(n,t,r){if(e(r,1,1),u(r[0]))return r[0].count(n.abortSignal);if(i(r[0])||o(r[0]))return r[0].length;if(a(r[0]))return r[0].length();throw new Error(\"Invalid Parameters for Count\")}))})}export{m as registerFunctions};\n"],"sourceRoot":""}